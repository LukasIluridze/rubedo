import{ItemStack as ho,MinecraftItemTypes as bo,world as Io}from"@minecraft/server";import{world as vn}from"@minecraft/server";var w="-";import{Location as Cn}from"@minecraft/server";import{world as kn}from"@minecraft/server";import{BlockLocation as pn}from"@minecraft/server";var st=32e3,X="rubedo:database",R=new pn(0,-64,0);import{ItemStack as bn,MinecraftItemTypes as In}from"@minecraft/server";function at(t,e){return t.match(new RegExp(".{1,"+e+"}","g"))}import{world as A,Player as yn,BlockLocation as Be,MinecraftBlockTypes as hn,MinecraftDimensionTypes as U}from"@minecraft/server";var mt={doorsAndSwitches:!0,openContainers:!0,pvp:!1,allowedEntitys:["minecraft:player","minecraft:npc","minecraft:item","rubedo:inventory","rubedo:database"]},lt=["minecraft:acacia_door","minecraft:acacia_trapdoor","minecraft:acacia_button","minecraft:birch_door","minecraft:birch_trapdoor","minecraft:birch_button","minecraft:crimson_door","minecraft:crimson_trapdoor","minecraft:crimson_button","minecraft:dark_oak_door","minecraft:dark_oak_trapdoor","minecraft:dark_oak_button","minecraft:jungle_door","minecraft:jungle_trapdoor","minecraft:jungle_button","minecraft:mangrove_door","minecraft:mangrove_trapdoor","minecraft:mangrove_button","minecraft:spruce_door","minecraft:spruce_trapdoor","minecraft:spruce_button","minecraft:warped_door","minecraft:warped_trapdoor","minecraft:warped_button","minecraft:wooden_door","minecraft:wooden_button","minecraft:trapdoor","minecraft:iron_door","minecraft:iron_trapdoor","minecraft:polished_blackstone_button","minecraft:lever"],ct=["minecraft:chest","minecraft:ender_chest","minecraft:barrel","minecraft:trapped_chest","minecraft:dispenser","minecraft:dropper","minecraft:furnace","minecraft:blast_furnace","minecraft:lit_furnace","minecraft:lit_blast_furnace","minecraft:hopper","minecraft:shulker_box","minecraft:undyed_shulker_box"];var Re=[],fn=!1,dt=-64,ut=320;function pt(t,e,n){return n.every((o,r)=>o>=Math.min(t[r],e[r])&&o<=Math.max(t[r],e[r]))}var h=class{static getAllRegions(){if(fn)return Re;let e=s.regions.values().map(n=>new h(n.from,n.to,n.dimensionId,n.permissions,n.key));return e.forEach(n=>{Re.push(n)}),e}static blockLocationInRegion(e,n){return this.getAllRegions().find(o=>o.dimensionId==n&&pt([o.from.x,dt,o.from.z],[o.to.x,ut,o.to.z],[e.x,e.y,e.z]))}static removeRegionAtBlockLocation(e,n){let o=this.blockLocationInRegion(e,n);return o?s.regions.delete(o.key):!1}constructor(e,n,o,r,i){this.from=e,this.to=n,this.dimensionId=o,this.permissions=r??mt,this.key=i||Date.now().toString(),i||(this.update(),fe(),Re.push(this))}update(){s.regions.set(this.key,{key:this.key,from:this.from,dimensionId:this.dimensionId,permissions:this.permissions,to:this.to})}delete(){return s.regions.delete(this.key)}entityInRegion(e){return this.dimensionId==e.dimension.id&&pt([this.from.x,dt,this.from.z],[this.to.x,ut,this.to.z],[e.location.x,e.location.y,e.location.z])}changePermission(e,n){this.permissions[e]=n,this.update()}};var M=class{static getTasks(){return s.tasks.get("changePlayerRole")??[]}static getPlayersRoleToSet(e){return M.getTasks().find(o=>o.playerName==e)?.role}constructor(e,n){let o=M.getTasks();o.push({playerName:e,role:n}),s.tasks.set("changePlayerRole",o)}};import{MessageFormData as gn}from"@minecraft/server-ui";var H=class{constructor(e,n){this.title=e,this.body=n,this.form=new gn,e&&this.form.title(e),n&&this.form.body(n),this.triedToShow=0}setButton1(e,n){return this.button1={text:e,callback:n},this.form.button1(e),this}setButton2(e,n){return this.button2={text:e,callback:n},this.form.button2(e),this}show(e){this.form.show(e).then(n=>{if(n.canceled){if(n.cancelationReason=="userBusy"){if(this.triedToShow>200)return e.tell("\xA7cForm Timeout: tried to show form, but you were busy (close chat after running command)");this.triedToShow++,this.show(e)}return}n.selection==1&&this.button1?.callback?.(),n.selection==0&&this.button2?.callback?.()})}};import{MinecraftBlockTypes as Q,MinecraftItemTypes as p}from"@minecraft/server";var ft=[p.beehive.id,p.beeNest.id,p.axolotlBucket.id,p.codBucket.id,p.tadpoleBucket.id,p.tropicalFishBucket.id,p.salmonBucket.id,p.pufferfishBucket.id],gt=[p.allow.id,p.barrier.id,p.borderBlock.id,p.debugStick?.id??"minecraft:debug_stick",p.deny.id,p.jigsaw.id,p.lightBlock.id,p.commandBlock.id,p.repeatingCommandBlock.id,p.chainCommandBlock.id,p.structureBlock.id,p.structureVoid.id,p.bedrock.id,p.commandBlockMinecart.id,p.endPortalFrame.id,"minecraft:info_update","minecraft:info_update2","minecraft:reserved3","minecraft:reserved4","minecraft:reserved6","minecraft:movingBlock","minecraft:moving_block","minecraft:movingblock","minecraft:piston_arm_collision","minecraft:piston_arm_collision","minecraft:pistonarmcollision","minecraft:stickyPistonArmCollision","minecraft:sticky_piston_arm_collision","minecraft:unknown","minecraft:glowingobsidian","minecraft:invisible_bedrock","minecraft:invisiblebedrock","minecraft:netherreactor","minecraft:portal","minecraft:fire","minecraft:water","minecraft:lava","minecraft:flowing_lava","minecraft:flowing_water","minecraft:soul_fire"],yt=[Q.beehive.id,Q.beeNest.id,Q.dispenser.id],ht=[Q.bedrock.id,Q.barrier.id,"minecraft:invisiblebedrock","minecraft:movingBlock","minecraft:movingblock","minecraft:moving_block"],ge=["minecraft:chest","minecraft:trapped_chest"],G={x:7,y:7,z:7};var ye={aquaAffinity:1,baneOfArthropods:5,binding:1,blastProtection:4,channeling:1,depthStrider:3,efficiency:5,featherFalling:4,fireAspect:2,fireProtection:4,flame:1,fortune:3,frostWalker:2,impaling:5,infinity:1,knockback:2,looting:3,loyalty:4,luckOfTheSea:3,lure:3,mending:1,multishot:1,piercing:4,power:5,projectileProtection:4,protection:4,punch:2,quickCharge:3,respiration:3,riptide:3,sharpness:5,silkTouch:1,smite:5,soulSpeed:3,swiftSneak:4,thorns:3,unbreaking:3,vanishing:1};var bt="2.5.4-beta";var he="https://discord.gg/dMa3A5UYKX";var I={overworld:A.getDimension(U.overworld),nether:A.getDimension(U.nether),theEnd:A.getDimension(U.theEnd),"minecraft:overworld":A.getDimension(U.overworld),"minecraft:nether":A.getDimension(U.nether),"minecraft:the_end":A.getDimension(U.theEnd)};function B(t,e=[],n){if(_e(t))return console.warn("[WARNING]: TRIED TO KICK OWNER"),t.tell("You have been tried to kick, but you cant!"),n?.();try{t.runCommand(`kick "${t.name}" \xA7r${e.join(`
`)}`),t.triggerEvent("kick")}catch(o){if(!/"statusCode":-2147352576/.test(o))return;n&&n()}}function l(t){return t instanceof yn?s.roles.get(t.name)??"member":s.roles.get(t)??"member"}function Y(t,e){if(typeof t=="string"){s.roles.set(t,e);let n=[...A.getPlayers()].find(o=>o.name==t);n?n.setDynamicProperty("role",e):new M(t,e)}else s.roles.set(t.name,e),t.setDynamicProperty("role",e)}function _e(t){return A.getDynamicProperty("worldsOwner")==t.id}function be(){return A.getDynamicProperty("isLockDown")??!1}function Le(t){A.setDynamicProperty("isLockDown",t)}function fe(){for(let t of h.getAllRegions()){let e=new Be(t.from.x,t.dimensionId=="minecraft:overworld"?-64:0,t.from.z),n=new Be(t.to.x,t.dimensionId=="minecraft:overworld"?-64:0,t.to.z);for(let o of e.blocksBetween(n))I[t.dimensionId].getBlock(o)?.setType(hn.deny)}}var It=[];function _(t,e=0){It.push({callback:t,delay:e,lastCall:0})}A.events.tick.subscribe(t=>{let e=[...A.getPlayers()];for(let[n,o]of e.entries())if(!["moderator","admin"].includes(l(o)))for(let r of It)r.delay!=0&&t.currentTick-r.lastCall<r.delay||(r.callback(o,t),n==e.length-1&&(r.lastCall=t.currentTick))});function u(t){switch(t){case"spam_config":return s.config.get("spam_config")??{repeatedMessages:!0,zalgo:!0,violationCount:0,permMutePlayer:!1};case"cbe_config":return s.config.get("cbe_config")??{clearItem:!0,violationCount:0,banPlayer:!1,canAddEnchantment:!1};case"gamemode_config":return s.config.get("gamemode_config")??{setToSurvival:!0,clearPlayer:!0,violationCount:0,banPlayer:!1};case"nuker_data":return s.config.get("nuker_data")??{violationCount:0,banPlayer:!1};case"banned_items":return s.config.get("banned_items")??gt;case"banned_blocks":return s.config.get("banned_blocks")??ht;case"enchantments":return s.config.get("enchantments")??ye;case"appealLink":return s.config.get("appealLink")??he}}function ee(t){let e=t.split(",");console.warn(e.length);let n=0;for(let o of e){let r=parseInt(o.match(/\D+|\d+/g)[0]),i=o.match(/\D+|\d+/g)[1];i=="y"&&(n=n+317098e-16*r),i=="w"&&(n=n+6048e5*r),i=="d"&&(n=n+864e5*r),i=="h"&&(n=n+36e5*r),i=="m"&&(n=n+6e4*r),i=="s"&&(n=n+1e3*r),i=="ms"&&(n=n+r)}return n}function K(t){return new Date(t).toString()}function kt(t){return new Be(Math.floor(t.x),Math.floor(t.y),Math.floor(t.z))}function Ie(t,e,n,o=()=>{}){new H("Confirm To Continue",e).setButton1("Confirm",n).setButton2("Never Mind",o).show(t)}function Ct(t){return u("enchantments")[t.type.id]??t.type.maxLevel}var f=class{static compress(e){return e}static decompress(e){return e}static createEntity(e,n){let o=I.overworld.spawnEntity(X,R);o.setDynamicProperty("name",e),o.setDynamicProperty("index",n);let r=o.getComponent("inventory").container,i=new bn(In.acaciaBoat,1);return n==0&&(i.nameTag="{}"),r.setItem(0,i),o}static getInventorySlotName(e,n){return e.getComponent("inventory").container.getItem(n)?.nameTag}static setInventorySlotName(e,n,o){let r=e.getComponent("inventory").container,i=r.getItem(n);return i.nameTag=o,r.setItem(n,i)}constructor(e){this.name=e,this.savedEntitys=void 0,this.MEMORY=void 0}get entitys(){if(this.savedEntitys)return this.savedEntitys;let e=I.overworld.getEntitiesAtBlockLocation(R).filter(n=>n.typeId==X&&n.getDynamicProperty("name")==this.name);return this.savedEntitys=e,e}data(){if(this.MEMORY)return this.MEMORY;if(this.entitys.length==0&&f.createEntity(this.name,0),this.entitys.length==1){let n=JSON.parse(f.decompress(f.getInventorySlotName(this.entitys[0],0)));return this.MEMORY=n,n}let e=new Array(this.entitys.length);for(let n of this.entitys){let o=n.getDynamicProperty("index");e[o]=f.getInventorySlotName(n,0)}try{e=JSON.parse(e.join(""))}catch{e={}}return this.MEMORY=e,e}save(e){this.MEMORY=e;let n=at(f.compress(JSON.stringify(e)),st);if(this.entitys&&n.length==this.entitys.length)for(let o=0;o<n.length;o++)f.setInventorySlotName(this.entitys[o],0,n[o]);else{this.entitys?.forEach(o=>o?.triggerEvent("despawn")),this.savedEntitys=void 0;for(let o=0;o<n.length;o++){let r=f.createEntity(this.name,o);f.setInventorySlotName(r,0,n[o])}}}set(e,n){let o=this.data();o[e]=n,this.save(o)}get(e){return this.data()[e]}has(e){return this.keys().includes(e)}delete(e){let n=this.data(),o=delete n[e];return this.save(n),o}size(){return this.keys().length}clear(){this.save({})}keys(){return Object.keys(this.data())}values(){return Object.values(this.data())}getCollection(){return this.data()}};var s={config:new f("config"),freezes:new f("freezes"),mutes:new f("mutes"),bans:new f("bans"),regions:new f("regions"),roles:new f("roles"),tasks:new f("tasks"),npcs:new f("npcs"),ids:new f("ids"),logs:new f("logs")};function wt(t){return[...kn.getPlayers()].find(e=>e.name===t)}var $=class{constructor(e="literal"){this.name=e;this.typeName="literal";this.name=e}matches(e){return{success:this.name==e}}fail(e){return`${e} should be ${this.name}!`}},te=class{constructor(e="string"){this.name=e;this.typeName="string";this.name=e}matches(e){return{success:e&&e!="",value:e}}fail(e){return"Value must be of type string!"}},ne=class{constructor(e="integer"){this.name=e;this.typeName="int";this.name=e}matches(e){return{success:!isNaN(e),value:parseInt(e)}}fail(e){return"Value must be vaild number!"}},Me=class{constructor(e="float"){this.name=e;this.typeName="float";this.name=e}matches(e){return{success:Boolean(e?.match(/^\d+\.\d+$/)?.[0]),value:parseInt(e)}}fail(e){return"Value must be vaild float!"}},V=class{constructor(e="location"){this.name=e;this.typeName="location";this.name=e}matches(e){return{success:/^([~^]{0,1}(-\d)?(\d*)?(\.(\d+))?)$/.test(e),value:e}}fail(e){return"Value needs to be a vaild number, value can include: [~,^]"}},oe=class{constructor(e="boolean"){this.name=e;this.typeName="boolean";this.name=e}matches(e){return{success:Boolean(e?.match(/^(true|false)$/)?.[0]),value:e=="true"}}fail(e){return`"${e}" can be either "true" or "false"`}},De=class{constructor(e="player"){this.name=e;this.typeName="playerName";this.name=e}matches(e){return{success:!!wt(e),value:wt(e)}}fail(e){return`player: "${e}", is not in this world`}},$e=class{constructor(e="target"){this.name=e;this.typeName="Target";this.name=e}matches(e){return{success:Boolean(e?.match(/^(@.|"[\s\S]+")$/)?.[0]),value:e}}fail(e){return`${e} is not a vaild target`}},re=class{constructor(e="array",n){this.name=e;this.types=n;this.typeName="string";this.name=e,this.types=n,this.typeName=n.join(" | ").replace(/(.{25})..+/,"$1...")}matches(e){return{success:this.types.includes(e),value:e}}fail(e){return`"${e}" must be one of these values: ${this.types.join(" | ")}`}},Oe=class{constructor(e){this.name=e;this.typeName="Duration"}matches(e){return{success:/^(\d+[hdysmw],?)+$/.test(e),value:e}}fail(e){return`"${e}" must be a value like "10d" or "3s" the first part is the length second is unit`}},Fe=class{constructor(e="playerName"){this.name=e;this.typeName="playerName";this.name=e}matches(e){return{success:!!s.ids.get(e),value:e}}fail(e){return`player: "${e}" has never played this world before! Tip: if the name has spaces in it use quotes around name!`}},g={string:te,int:ne,float:Me,location:V,boolean:oe,player:De,target:$e,array:re,duration:Oe,playerName:Fe};var ke=class{constructor(e){this.data=e,this.sender=e.sender}reply(e){this.sender.tell(e)}};function vt(t,e){try{return t.slice(e.length).trim().match(/"[^"]+"|[^\s]+/g).map(n=>n.replace(/"(.+)"/,"$1").toString())}catch{return[]}}function Tt(t,e){t.tell({rawtext:[{text:"\xA7c"},{translate:"commands.generic.unknown",with:[`${e}`]}]})}function ze(t,e){t.tell({rawtext:[{text:e.data.invaildPermission?e.data.invaildPermission:`\xA7cYou do not have permission to use "${e.data.name}"`}]})}function St(t,e,n,o,r){if(t.tell({rawtext:[{text:"\xA7c"},{translate:"commands.generic.syntax",with:[`${w}${e.data.name} ${o.slice(0,r).join(" ")}`,o[r]??" ",o.slice(r+1).join(" ")]}]}),n.children.length>1||!o[r]){let i=n.children.map(a=>a.type instanceof $?a.type.name:a.type?.typeName);t.tell(`\xA7c"${o[r]??"undefined"}" is not vaild! Argument "${[...new Set(n.children.map(a=>a.type.name))][0]}" can be typeof: "${i.join('", "')}"`)}else t.tell(`\xA7c${n.children[0]?.type?.fail(o[r])}`)}function wn([t,e,n],{location:o,viewVector:r}){if(!t||!e||!t)return null;let i=[o.x,o.y,o.z],a=[r.x,r.y,r.z],m=[t,e,n].map(y=>{let k=parseFloat(y);return isNaN(k)?0:k}),d=[t,e,n].map((y,k)=>y.includes("~")?m[k]+i[k]:y.includes("^")?m[k]+a[k]:m[k]);return new Cn(d[0],d[1],d[2])}function Et(t,e,n,o){let r=e[e.length-1]??o,i=[];for(let[a,m]of e.entries())if(!m.type.name.endsWith("*")){if(m.type instanceof V){i.push(wn([t[a],t[a+1],t[a+2]],n.sender));continue}m.type instanceof $||i.push(m.type.matches(t[a]).value??t[a])}r.callback(new ke(n),...i)}var D=[];vn.events.beforeChat.subscribe(t=>{if(!t.message.startsWith(w))return;t.cancel=!0;let e=vt(t.message,w),n=D.find(i=>i.depth==0&&(i.data.name==e[0]||i.data?.aliases?.includes(e[0])));if(!n)return Tt(t.sender,e[0]);if(!n.data?.requires(t.sender))return ze(t.sender,n);e.shift();let o=[],r=(i,a)=>{if(i.children.length>0){let m=i.children.find(d=>d.type.matches(e[a]).success);return!m&&!e[a]&&i.callback?void 0:m?m.data?.requires(t.sender)?(o.push(m),r(m,a+1)):(ze(t.sender,m),"fail"):(St(t.sender,n,i,e,a),"fail")}};r(n,0)||Et(e,o,t,n)});import{Player as xn,world as He}from"@minecraft/server";var At="rubedo:gui",ie="rubedo:inventory";import{world as Pt}from"@minecraft/server";var xt=new Map,se=class{constructor(e,n,o=!1,r=Date.now()){this.callbackTick=null,this.tickDelay=n,this.loop=o,this.callback=e,this.id=r,xt.set(r,this),this.TickCallBack=Pt.events.tick.subscribe(({currentTick:i})=>{if(this.callbackTick||(this.callbackTick=i+this.tickDelay),!(this.callbackTick>i)){if(this.callback(i),!this.loop)return this.expire();this.callbackTick=i+this.tickDelay}})}expire(){Pt.events.tick.unsubscribe(this.TickCallBack),xt.delete(this.id)}};var Nt=t=>new Promise(e=>Ge(e,t));function Ge(t,e){new se(t,e)}function x(t,e){return new se(t,e,!0)}import{world as Mt}from"@minecraft/server";var Ve={},Rt={},O={};function Tn(t,e,n){if(e.length!=n.length)return[];let o=[];for(let r=0;r<n.length;r++){if(e[r]?.item?.amount<n[r]?.item?.amount||e[r]?.item?.amount>n[r]?.item?.amount&&e[r]?.item?.amount!=0){let i={slot:r,uid:n[r].uid,oldUid:e[r].uid,item:n[r].item,oldItem:e[r].item,changeType:"fluctuation"};o.push(i),O[t.id]=i;continue}if(n[r].uid!=e[r].uid)if(e[r]?.item&&n[r]?.item){let i={slot:r,uid:n[r].uid,oldUid:e[r].uid,item:n[r].item,oldItem:e[r].item,changeType:"swap"};o.push(i),O[t.id]=i}else if(n[r]?.item){if(n[r]?.item)if(O[t.id]?.changeType=="delete"&&O[t.id]?.uid==n[r].uid){let i={slot:r,uid:n[r].uid,item:n[r].item,changeType:"move"};o.push(i),O[t.id]=i;continue}else{let i={slot:r,uid:n[r].uid,item:n[r].item,changeType:"put"};o.push(i),O[t.id]=i}}else{let i={slot:r,uid:e[r].uid,item:e[r].item,changeType:"delete"};o.push(i),O[t.id]=i}}return o}function Sn(t){if(!t)return"";let e=[];return e.push(t.typeId),e.push(t.nameTag),e.push(t.data),e.push(t.getLore().join("")),e.join("")}function En(t){let e=[];for(let n=0;n<t.size;n++){let o=t.getItem(n);e[n]={uid:Sn(o),item:o}}return e}x(()=>{for(let t of Object.values(Ve))for(let e of I.overworld.getEntities(t.entities)){let n=En(e.getComponent("inventory").container),o=Tn(e,Rt[e.id]??n,n);if(Rt[e.id]=n,o.length!=0){if(e.hasTag("skipCheck")){e.removeTag("skipCheck"),delete O[e.id];continue}for(let r of o)t.callback(e,r)}}},5);var ae=class{static subscribe(e,n){let o=Date.now();return Ve[o]={callback:n,entities:e},o}static unsubscribe(e){delete Ve[e]}};import{world as An}from"@minecraft/server";var v=class{constructor(){this.data=new Map,this.events={playerLeave:An.events.playerLeave.subscribe(e=>this.data.delete(e.playerName))}}set(e,n){this.data.set(e.name,n)}get(e){return this.data.get(e.name)}delete(e){this.data.delete(e.name)}clear(){this.data.clear()}playerNames(){return[...this.data.keys()]}};var N={},q={},me=new v;function Bt(t){return t.getComponent("minecraft:inventory").container.getItem(t.selectedSlot)}async function _t(t,e){try{let n=t.getComponent("minecraft:inventory").container,o=[];for(let r=0;r<n.size;r++){let i=n.getItem(r);!i||i?.typeId==e?.typeId&&(o.push({slot:r,item:i}),n.setItem,r<9?t.runCommand(`replaceitem entity @s slot.hotbar ${r} air`):t.runCommand(`replaceitem entity @s slot.inventory ${r-9} air`))}t.runCommand(`clear @s ${e?.typeId} ${e.data} ${e.amount}`);for(let r of o)n.setItem(r.slot,r.item)}catch{[...t.dimension.getEntities({type:"minecraft:item",location:t.location,maxDistance:2,closest:1})].forEach(o=>o.kill())}}function Lt(t,e){return t.getComponent("minecraft:inventory").container.getItem(e)}var Ce=class{constructor(e,n,o){this.gui=e,this.slot=n,this.change=o}message(e){this.gui.player.tell(e)}getItemAdded(){return this.slot.item?null:this.gui.entity.getComponent("minecraft:inventory").container.getItem(this.change.slot)}GiveAction(e=this.slot.item.itemStack){this.gui.player.getComponent("minecraft:inventory").container.addItem(e)}TakeAction(e=null){this.gui.player.getComponent("minecraft:inventory").container.addItem(this.slot.item.itemStack),this.gui.page.slots[this.change.slot]=null,e&&e.delete(this.slot.item.components.dbKey)}PageAction(e,n){this.gui.setPage(e,n)}CloseAction(){this.gui.despawn()}SetAction(){this.gui.entity.getComponent("minecraft:inventory").container.setItem(this.change.slot,this.slot.item.itemStack)}async FormAction(e){return this.CloseAction(),await Nt(5),await e.show(this.gui.player)}};var W=class{static spawnEntity(e){try{return e.dimension.spawnEntity(ie,e.headLocation)}catch{return null}}constructor(e){this.player=e,this.entity=W.spawnEntity(e),this.entity&&(this.hasChestOpen=!1,this.setPage("home")),this.tickEvent=Mt.events.tick.subscribe(()=>{if(!this.entity)return this.despawn();if(me.get(this.player))this.hasChestOpen||(this.slotChangeEvent=ae.subscribe({type:ie},(n,o)=>{n.id==this.entity.id&&this.onSlotChange(o)})),this.hasChestOpen=!0;else try{this.entity.teleport(this.player.headLocation,this.player.dimension,this.player.rotation.x,this.player.rotation.y,!0)}catch{this.despawn()}})}setPage(e,n){let o=this.entity.getComponent("inventory").container;for(let i=0;i<o.size;i++)o.setItem(i,S);if(!Object.keys(q).includes(e))throw new Error(`pageId ${e} does not exist!`);let r=q[e];this.page=r,r.fillType(this.entity,r,n),this.entity.nameTag="size:54"}onSlotChange(e){let n=this.page.slots[e.slot];if(!n)this.entity.getComponent("inventory").container.setItem(e.slot,S);else if(e.changeType=="delete"){if(n.item&&_t(this.player,e.item),!n.item&&!Lt(this.entity,e.slot))return;n.action(new Ce(this,n,e))}}despawn(){try{this.entity?.triggerEvent("despawn")}catch{}try{delete N[this.player.name]}catch{}this.tickEvent&&Mt.events.tick.unsubscribe(this.tickEvent),this.slotChangeEvent&&ae.unsubscribe(this.slotChangeEvent)}};import{ItemStack as Pn}from"@minecraft/server";var b=class{constructor(e,n={},o){this.itemType=e,this.components=n,this.setItemStack=o}get itemStack(){if(this.setItemStack)return this.setItemStack;let e=new Pn(this.itemType);if(this.components){e.amount=this.components?.amount??1,e.data=this.components?.data??0,e.nameTag=this.components?.nameTag,e.setLore(this.components?.loreList??[]);let n=e.getComponent("enchantments").enchantments;for(let o of this.components?.enchantments??[])n.addEnchantment(o);e.getComponent("enchantments").enchantments=n}return e}};function Dt(t,e,n){let o=t.getComponent("minecraft:inventory").container;for(let r=0;r<o.size;r++){let i=e.slots[r];if(!i||!i.item){o.setItem(r,S);continue}o.setItem(r,i.item.itemStack)}}var F=class{constructor(e,n=Dt){if(Object.keys(q).includes(e))throw new Error(`Page: ${e}, Already exists!`);this.id=e,this.fillType=n,this.slots=[],q[e]=this}setSlots(e,n,o){let r=n?{item:n,action:o}:null;for(let i of e)this.slots[i]=r;return this}};import{MinecraftItemTypes as je}from"@minecraft/server";var ci=new F("home").setSlots([0,1,2,3,4,5,6,7,8,9,17,18,26,27,35,36,44,45,46,47,48,50,51,52,53],new b(je.stainedGlassPane,{data:15,nameTag:"\xA7r"}),t=>{t.SetAction()}).setSlots([22],new b(je.enderChest,{nameTag:"\xA7l\xA7bInventory Viewer"}),t=>{t.PageAction("moderation:see")}).setSlots([54],new b(je.barrier,{nameTag:"\xA7cClose GUI"}),t=>{t.CloseAction()});He.events.tick.subscribe(t=>{for(let e of He.getPlayers())if(l(e)=="admin"){if(Bt(e)?.typeId!=At){N[e.name]&&N[e.name].despawn();continue}Object.keys(N).includes(e?.name)||(N[e.name]=new W(e))}});He.events.beforeDataDrivenEntityTriggerEvent.subscribe(t=>{t.entity instanceof xn&&(t.id=="rubedo:has_container_open"?me.set(t.entity,!0):t.id=="rubedo:dosent_have_container_open"&&me.set(t.entity,!1))});x(()=>{let t=Object.values(N).map(e=>e.entity.id);for(let e of I.overworld.getEntities({type:ie}))t.includes(e.id)||e.triggerEvent("despawn")},100);var T={"api.name":()=>"Smelly API","api.error.unknown":()=>"An unknown error has occured.","api.database.error.table_name":(t,e)=>`The display name ${t} is too long for an objective, it can be at most ${e} characters long`,"api.utilities.formatter.error.ms":t=>`${t} is not a string or a number`,"api.Providers.form.invaildtype":(t,e)=>`Type ${t} is not a vaild type to add a ${e}`,"api.Providers.form.invaildFormtype":(t,e)=>{`${t}${JSON.stringify(e)}`},"api.ChestGUI.error.pagenotfound":t=>`Page ${t} not found!`,"modules.protections.cps.clickingToFast":()=>"You are clicking to fast! Please click slower!","modules.managers.mute.isMuted":()=>"You are muted and cannot send messages please try again later","modules.commands.ban.reply":(t,e,n="")=>`\xA7cBanned \xA7f"\xA7a${t}\xA7f" \xA7cfor ${e} Because: "${n??"No reason Provided"}" \xA7aSuccessfully`,"lockdown.kick.message":()=>["\xA7cYou have been kicked!","\xA7aReason: \xA7fServer is currently under LockDown","\xA7fServer will be up soon, Try to join later"],"commands.ban.list.player":(t,e,n)=>`- "${t}" Because: ${e}, Expiry ${n}`,"commands.freeze.list.player":(t,e)=>`- "${t}" Because: ${e}`,"commands.mutes.list.player":(t,e,n)=>`- "${t}" Because: ${e}, Expiry: ${n}`,"commands.lockdown.confirm":"Are you sure you want to lockdown the server, this will kick all active players and all players who try to join who are not admin"};var c=class{constructor(e,n,o=0,r){this.data=e;this.type=n;this.depth=o;this.parent=r;e.requires||(e.requires=i=>!0),this.data=e,this.type=n??new $(this.data.name),this.children=[],this.depth=o,this.parent=r,this.callback=null,D.push(this)}argument(e){let n=new c(this.data,e,this.depth+1,this);return this.children.push(n),n}string(e){return this.argument(new te(e))}int(e){return this.argument(new ne(e))}array(e,n){return this.argument(new re(e,n))}boolean(e){return this.argument(new oe(e))}location(e){let n=this.argument(new V(e));return e.endsWith("*")?n:n.location(e+"_y*").location(e+"_z*")}literal(e){let n=new c(e,new $(e.name),this.depth+1,this);return this.children.push(n),n}executes(e){return this.callback=e,this}};import{Player as $t}from"@minecraft/server";var C=class{constructor(e,n,o="No Reason",r="Rubedo Auto Mod"){let i=e instanceof $t?e.id:s.ids.get(e);if(!i)throw new Error(`"${e}" does not have a saved id!`);let a={key:i,playerName:e instanceof $t?e.name:e,date:Date.now(),duration:n?ee(n):null,expire:n?ee(n)+Date.now():null,reason:o,by:r};s.bans.set(i,a)}};function Ue(t,e,n,o,r){if(s.bans.get(s.ids.get(e)))return t.reply(`\xA7c${e} is already banned`);t.reply("\xA7aClose chat to confirm"),Ie(t.sender,`Are you sure you want to ban ${e}, for ${n??"forever"}`,()=>{new C(e,n,o,t.sender.name),t.reply(T["modules.commands.ban.reply"](e,n,o))})}var Ye=new c({name:"ban",description:"Manage bans",requires:t=>["admin","moderator"].includes(l(t))});Ye.literal({name:"add",description:"Bans a player"}).argument(new g.playerName).executes((t,e)=>{Ue(t,e,null,null,t.sender.name)}).argument(new g.duration("duration")).executes((t,e,n)=>{Ue(t,e,n,null,t.sender.name)}).string("reason").executes((t,e,n,o)=>{Ue(t,e,n,o,t.sender.name)});Ye.literal({name:"remove",description:"unbans a player"}).argument(new g.playerName("playerName")).executes((t,e)=>{let n=s.bans.values().find(o=>o.playerName==e);if(!n)return t.reply(`${e} is not banned`);s.bans.delete(n.key)?t.reply(`\xA7a${e}\xA7r has been Unbanned!`):t.reply(`\xA7cFailed to unban ${e}`)});Ye.literal({name:"list",description:"Lists all bans"}).executes(t=>{let e=s.bans.values();if(e.length==0)return t.sender.tell("\xA7cNo one is banned!");t.sender.tell(`\xA72--- Showing Bans (${e.length}) ---`);for(let n of e)t.sender.tell(T["commands.ban.list.player"](n.playerName,n.reason,n.expire?K(n.duration):"Forever"))});var le=new c({name:"database",description:"Interacts with SA Database",aliases:["db"],requires:t=>l(t)=="admin"});le.literal({name:"get"}).string("table").string("key").executes((t,e,n)=>{try{let o=s[e].get(n);o?t.reply(JSON.stringify(o)):t.reply(`No data could be found for key ${n}`)}catch(o){t.reply(o+o.stack)}});le.literal({name:"set"}).string("table").string("key").string("value").executes((t,e,n,o)=>{try{s[e].set(n,o),t.reply(`Set Key: "${n}", to value: "${o}" on table: "${e}"`)}catch(r){t.reply(r+r.stack)}});le.literal({name:"clear"}).string("table").executes((t,e)=>{try{s[e].clear(),t.reply(`Cleared Table ${e}`)}catch(n){t.reply(n+n.stack)}});le.literal({name:"keys",description:"Returns all keys on a database"}).string("table").executes((t,e)=>{try{let n=s[e].keys();t.reply(`Keys on database: ${e}: ${n}`)}catch(n){t.reply(n+n.stack)}});le.literal({name:"values",description:"Returns all values on a database"}).string("table").executes((t,e)=>{try{let n=s[e].values();t.reply(`Values on database: ${e}: ${n}`)}catch(n){t.reply(n+n.stack)}});new c({name:"ecwipe",description:"Clears a players ender chest",requires:t=>l(t)=="admin"}).argument(new g.player("player")).executes((t,e)=>{for(let n=0;n<27;n++)e.runCommand(`replaceitem entity @s slot.enderchest ${n} air`);t.reply(`Cleared ${e.name} Ender chest!`)});var we=class{constructor(e,n="No Reason"){let o={playerName:e.name,key:e.id,reason:n,location:{x:e.location.x,y:e.location.y,z:e.location.z,dimension:e.dimension.id}};s.freezes.set(e.id,o)}};var Ke=new c({name:"freeze",description:"Manage Freezes",requires:t=>l(t)=="admin"});Ke.literal({name:"add",description:"Freezes a player"}).argument(new g.player("player")).string("reason").executes((t,e,n)=>{new we(e,n),t.reply(`\xA7cFroze \xA7f"\xA7a${e.name}\xA7f" Because: "${n}" \xA7aSuccessfully`),t.sender.tell(`\xA7cYou have been frozen by \xA7f"\xA7a${t.sender.name}\xA7f" Because: "${n}"`)});Ke.literal({name:"remove",description:"unfreezes a player"}).argument(new g.playerName("playerName")).executes((t,e)=>{let n=s.freezes.values().find(o=>o.playerName==e);if(!n)return t.reply(`${e} is not frozen`);s.freezes.delete(n.key),t.reply(`\xA7a${e}\xA7r has been UnFrozen!`)});Ke.literal({name:"list",description:"Lists all freezes"}).executes(t=>{let e=s.freezes.values();if(e.length==0)return t.sender.tell("\xA7cNo one is frozen!");t.sender.tell(`\xA72--- Showing Freezes (${e.length}) ---`);for(let n of e)t.sender.tell(T["commands.freeze.list.player"](n.playerName,n.reason))});var qe=class{constructor(e){this.name=e;this.typeName="CommandName"}matches(e){return{success:Boolean(D.find(n=>n.depth==0&&n.data.name==e)),value:e}}fail(e){return`"${e}" is not a vaild command`}};function Nn(t,e,n){n.tell(`${w}${t.data.name} ${e.map(o=>o.type.typeName=="literal"?o.data.name:`<${o.type.name}: ${o.type.typeName}>`).join(" ")}`)}function ve(t,e,n,o){if(!!e.data?.requires(o)&&(e.callback&&Nn(t,e.depth==0?n:n.concat(e),o),e.children.length>0))for(let r of e.children)ve(t,r,e.depth==0?n:n.concat(e),o)}function Ot(t,e,n){t.tell(`\xA72--- Showing help page ${e} of ${n} (${w}help <page: int>) ---`)}function Ft(t){let e=D.filter(n=>n.depth==0&&n.data?.requires(t));return e.length==0?0:Math.ceil(e.length/5)}var zt=new c({name:"help",description:"Provides help/list of commands.",aliases:["?","h"]}).executes(t=>{let e=Ft(t.sender),n=D.filter(o=>o.depth==0&&o.data?.requires(t.sender)).slice(1*5-5,1*5);Ot(t.sender,1,e);for(let o of n)ve(o,o,[],t.sender)});zt.int("page").executes((t,e)=>{let n=Ft(t.sender);e>n&&(e=n);let o=D.filter(r=>r.depth==0&&r.data?.requires(t.sender)).slice(e*5-5,e*5);Ot(t.sender,e,n);for(let r of o)ve(r,r,[],t.sender)});zt.argument(new qe("command")).executes((t,e)=>{let n=D.filter(o=>o.depth==0&&o.data.name==e)[0];t.sender.tell(`\xA7e${n.data.name}: ${n.data.aliases?`aliases (${n.data.aliases.join(", ")})`:""}`),t.sender.tell(`\xA7e${n.data.description}`),t.sender.tell("Usage:"),ve(n,n,[],t.sender)});import{world as Gt}from"@minecraft/server";new c({name:"lockdown",description:"Toggles the servers lockdown, meaning noone can join",requires:t=>l(t)=="admin"}).executes(t=>{be()?(Le(!1),t.sender.tell("Unlocked the server!")):(t.reply("\xA7aClose chat to confirm lockdown"),Ie(t.sender,T["commands.lockdown.confirm"],()=>{Le(!0);for(let e of Gt.getPlayers())l(e)!="admin"&&B(e,T["lockdown.kick.message"]());Gt.say("\xA7l\xA7cServer is now LOCKED!")}))});var L=class{static getMuteData(e){return s.mutes.get(e.name)}constructor(e,n,o="No Reason",r="Rubedo Auto Mod"){let i=n?ee(n):null,a={playerName:e.name,date:Date.now(),duration:i,expire:i?i+Date.now():null,reason:o,by:r};s.mutes.set(e.name,a)}};var We=new c({name:"mute",description:"Manage Mutes",requires:t=>["admin","moderator"].includes(l(t))});We.literal({name:"add",description:"Mutes a player"}).argument(new g.player("player")).argument(new g.duration("duration")).string("reason").executes((t,e,n,o)=>{new L(e,n,o,t.sender.name),t.reply(`\xA7cMuted \xA7f"\xA7a${e.name}\xA7f" \xA7cfor ${n} Because: "${o}" \xA7aSuccessfully`),e.tell(`\xA7cYou have been muted by \xA7f"${t.sender.name}" \xA7cfor ${n} Because: "${o}"`)});We.literal({name:"remove",description:"unmutes a player"}).argument(new g.playerName("playerName")).executes((t,e)=>{let n=s.mutes.values().find(o=>o.playerName==e);if(!n)return t.reply(`${e} is not muted!`);s.mutes.delete(n.playerName);try{t.sender.runCommand(`ability "${e}" mute false`)}catch{}t.reply(`\xA7a${e}\xA7r has been UnMuted!`)});We.literal({name:"list",description:"Lists all feeezes"}).executes(t=>{let e=s.mutes.values();if(e.length==0)return t.sender.tell("\xA7cNo one is muted!");t.sender.tell(`\xA72--- Showing Mutes (${e.length}) ---`);for(let n of e)t.sender.tell(T["commands.mutes.list.player"](n.playerName,n.reason,n.expire?K(n.expire):"Forever"))});var J=class{static isVaild(e){return e.typeId!="minecraft:npc"?!1:Te.find(n=>n.equals(e.location))?!0:!!s.npcs.keys().find(n=>e.id==n)}constructor(e,n){Te.push(e);let o=n.spawnEntity("minecraft:npc",e),r={dimension:o.dimension.id,x:o.location.x,y:o.location.y,z:o.location.z};s.npcs.set(o.id,r),Vt()}};new c({name:"npc",description:"Spawns a npc at your coordinates",requires:t=>l(t)=="admin"}).executes(t=>{new J(t.sender.location,t.sender.dimension),t.reply("Spawned a verifed npc at your current location")});import{world as jt}from"@minecraft/server";new c({name:"ping",description:"Returns the current TPS of the servers ping"}).executes(t=>{let e=jt.events.tick.subscribe(({deltaTime:n})=>{t.reply(`Pong! Current TPS: ${1/n}`),jt.events.tick.unsubscribe(e)})});import{BlockLocation as ce}from"@minecraft/server";var de=new c({name:"region",description:"Create a Region",requires:t=>l(t)=="admin"});de.literal({name:"add",description:"Adds a new protection region"}).int("from_x").int("from_z").int("to_x").int("to_z").executes((t,e,n,o,r)=>{new h({x:e,z:n},{x:o,z:r},t.sender.dimension.id),t.reply(`Created Region From ${e} -64 ${n} ${o} 320 ${r}`)});de.literal({name:"remove",description:"Removes a region at the players current postion"}).executes(t=>{let e=new ce(t.sender.location.x,t.sender.location.y,t.sender.location.z);h.removeRegionAtBlockLocation(e,t.sender.dimension.id)?t.reply(`Removed Region at ${e.x} ${e.y} ${e.z}`):t.reply(`Failed to find/remove region at ${e.x} ${e.y} ${e.z}`)});de.literal({name:"removeAll",description:"Removes all regions"}).executes(t=>{h.getAllRegions().forEach(e=>e.delete()),t.reply("Removed All regions")});de.literal({name:"list",description:"Lists all regions and positions"}).executes(t=>{let e=h.getAllRegions();for(let n of e)t.reply(`Region from ${n.from.x}, ${n.from.z} to ${n.to.x}, ${n.to.z} in dimension ${n.dimensionId}`);if(e.length==0)return t.reply("No regions have been made yet")});var Je=de.literal({name:"permission",description:"Handels permissions for regions"});Je.literal({name:"set",description:"Sets a certin permission on the region the player is currently in to a value"}).array("key",["doorsAndSwitches","openContainers","pvp"]).boolean("value").executes((t,e,n)=>{let o=h.blockLocationInRegion(new ce(t.sender.location.x,t.sender.location.y,t.sender.location.z),t.sender.dimension.id);if(!o)return t.reply("You are not in a region");o.changePermission(e,n),t.reply(`Changed permision ${e} to ${n}`)});Je.literal({name:"list",description:"Lists the permissions for the current region"}).executes(t=>{let e=h.blockLocationInRegion(new ce(t.sender.location.x,t.sender.location.y,t.sender.location.z),t.sender.dimension.id);if(!e)return t.reply("You are not in a region");t.reply(`Current region permissions ${JSON.stringify(e.permissions)}`)});var Ht=Je.literal({name:"entities",description:"Holds the subCommands for adding or removing allowedEntitys"});Ht.literal({name:"add",description:"Adds a entity to the allowed entitys list"}).string("entity").executes((t,e)=>{let n=h.blockLocationInRegion(new ce(t.sender.location.x,t.sender.location.y,t.sender.location.z),t.sender.dimension.id);if(!n)return t.reply("You are not in a region");let o=n.permissions.allowedEntitys;o.push(e),n.changePermission("allowedEntitys",o),t.reply(`Added entity ${e} to the allowed entitys of the region your currently standing in`)});Ht.literal({name:"remove",description:"Removes a entity from the allowed entitys in the region"}).string("entity").executes((t,e)=>{let n=h.blockLocationInRegion(new ce(t.sender.location.x,t.sender.location.y,t.sender.location.z),t.sender.dimension.id);if(!n)return t.reply("You are not in a region");let o=n.permissions.allowedEntitys;if(!o.includes(e))return t.reply(`The entity ${e} is not allowed to enter the region`);o=o.filter(r=>r!=e),n.changePermission("allowedEntitys",o),t.reply(`Removed entity ${e} to the allowed entitys of the region your currently standing in`)});var Xe=(r=>(r[r.member=0]="member",r[r.admin=1]="admin",r[r.moderator=2]="moderator",r[r.builder=3]="builder",r))(Xe||{});var Rn=t=>isNaN(Number(t))===!1;function Bn(t){return Object.keys(t).filter(Rn).map(e=>t[e])}var Ut=new c({name:"role",description:"Changes the role for a player",requires:t=>l(t)=="admin"||_e(t)});Ut.literal({name:"set",description:"Sets the role for a player"}).argument(new g.playerName("playerName")).argument(new g.array("role",Bn(Xe))).executes((t,e,n)=>{Y(e,n),t.reply(`Changed role of ${e} to ${n}`)});Ut.literal({name:"get",description:"Gets the role of a player"}).argument(new g.playerName("playerName")).executes((t,e)=>{t.reply(`${e} has role: ${l(e)}`)});import{ActionFormData as _n}from"@minecraft/server-ui";var z=class{constructor(e,n){this.title=e,this.body=n,this.form=new _n,e&&this.form.title(e),n&&this.form.body(n),this.buttons=[],this.triedToShow=0}addButton(e,n=null,o){return this.buttons.push({text:e,iconPath:n,callback:o}),this.form.button(e,n),this}show(e){this.form.show(e).then(n=>{if(n.canceled){if(n.cancelationReason=="userBusy"){if(this.triedToShow>200)return e.tell("\xA7cForm Timeout: tried to show form, but you were busy (close chat after running command)");this.triedToShow++,this.show(e)}return}this.buttons[n.selection].callback?.()})}};import{MinecraftBlockTypes as Mn}from"@minecraft/server";import{ModalFormData as Ln}from"@minecraft/server-ui";var Se=class{constructor(e,n,o){this.form=e,this.player=n,this.callback=o}error(e){new H("Error",e).setButton1("Return to form",()=>{this.form.show(this.player,this.callback)}).setButton2("Cancel",null).show(this.player)}};var E=class{constructor(e){this.title=e,this.form=new Ln,e&&this.form.title(e),this.args=[],this.triedToShow=0}addDropdown(e,n,o){return this.args.push({type:"dropdown",options:n}),this.form.dropdown(e,n,o),this}addSlider(e,n,o,r,i){return this.args.push({type:"slider"}),this.form.slider(e,n,o,r,i),this}addToggle(e,n){return this.args.push({type:"toggle"}),this.form.toggle(e,n),this}addTextField(e,n,o){return this.args.push({type:"textField"}),this.form.textField(e,n,o),this}show(e,n){this.form.show(e).then(o=>{if(o.canceled){if(o.cancelationReason=="userBusy"){if(this.triedToShow>200)return e.tell("\xA7cForm Timeout: tried to show form, but you were busy (close chat after running command)");this.triedToShow++,this.show(e,n)}return}n(new Se(this,e,n),...o.formValues.map((r,i)=>this.args[i].type=="dropdown"?this.args[i].options[r]:r))})}};function Yt(t){new z("Remove a Banned Item").addButton("Remove a Banned Item",null,()=>{Dn(t)}).addButton("Ban an item",null,()=>{$n(t)}).show(t)}function Dn(t){new E("Remove Banned Items").addDropdown("Select item to remove",u("banned_items")).show(t,(e,n)=>{let o=u("banned_items");o=o.filter(r=>r!=n),s.config.set("banned_items",o),t.tell(`Removed Banned item "${n}"`)})}function $n(t){new E("Add Banned Items").addTextField("Item Id","minecraft:string").show(t,(e,n)=>{let o=u("banned_items");if(o.includes(n))return e.error(`\xA7cItem "${n}" is already banned`);o.push(n),s.config.set("banned_items",o),t.tell(`Banned the item "${n}"`)})}function Kt(t){new E("Manage Banned Blocks").addDropdown("Add/Remove Block",["add","remove"],0).addTextField("Block Id","minecraft:barrier").show(t,(e,n,o)=>{if(!Mn.get(o)?.id)return e.error(`\xA7c"${o}" is not a vaild block id, note: this item must be either a block in a behavior pack or a default minecraft block`);if(n=="add"){let r=u("banned_blocks");if(r.includes(o))return e.error(`\xA7cBlock "${o}" is already banned`);r.push(o),s.config.set("banned_blocks",o),t.tell(`Banned the block "${o}"`)}else{let r=u("banned_blocks");if(!r.includes(o))return e.error(`block: "${o}" is not banned`);r=r.filter(i=>i!=o),s.config.set("banned_blocks",o),t.tell(`Removed Banned block "${o}"`)}})}function qt(t){new E("Manage Enchantment Levels").addDropdown("Enchantment to change",Object.keys(ye),0).addTextField("Level (number)","5").show(t,(e,n,o)=>{if(isNaN(o))return e.error(`\xA7c"${o}" is not a number, please enter a value like, "3", "9", etc.`);let r=parseInt(o),i=u("enchantments");i[n]=r,s.config.set("enchantments",i),t.tell(`Set max level for ${n} to ${r}`)})}function Wt(t){new E("Manage Appeal Link").addTextField("Appeal Link",he).show(t,(e,n)=>{s.config.set("appealLink",n),t.tell(`Changed the servers appeal link to ${n}`)})}function Jt(t){new z("Rubedo Settings").addButton("Anti Spam","textures/ui/permissions_op_crown.png",()=>{Fn(t)}).addButton("Cbe","textures/blocks/sculk_shrieker_top.png",()=>{zn(t)}).addButton("Gamemode","textures/blocks/barrier.png",()=>{Gn(t)}).addButton("Nuker","textures/ui/Feedback.png",()=>{Vn(t)}).show(t)}function Fn(t){let e=u("spam_config");new E("Manage Spam Protection").addToggle("Ban Repeated Messages",e.repeatedMessages).addToggle("Ban Zalgo",e.zalgo).addSlider("Violation Count before ban (if ban is false this does nothing)",0,20,1,e.violationCount).addToggle("Perm Mute Player",e.permMutePlayer).show(t,(n,o,r,i,a)=>{s.config.set("spam_config",{repeatedMessages:o,zalgo:r,violationCount:i,permMutePlayer:a}),t.tell("Updated Spam Protection settings!")})}function zn(t){let e=u("cbe_config");new E("Manage CBE Protection").addToggle("Clear Item",e.clearItem).addSlider("Violation Count before ban (if ban is false this does nothing)",0,20,1,e.violationCount).addToggle("Ban Player",e.banPlayer).addToggle("Allow non-enchantable items to be enchanted",e.banPlayer).show(t,(n,o,r,i,a)=>{s.config.set("cbe_config",{clearItem:o,violationCount:r,banPlayer:i,canAddEnchantment:a}),t.tell("Updated CBE Protection settings!")})}function Gn(t){let e=u("gamemode_config");new E("Manage Gamemode Protection").addToggle("Set to survival",e.setToSurvival).addToggle("Clear Player (Once this players gamemode has been switched back to survival should it clear the inventory?)",e.clearPlayer).addSlider("Violation Count before ban (if ban is false this does nothing)",0,20,1,e.violationCount).addToggle("Ban Player",e.banPlayer).show(t,(n,o,r,i,a)=>{s.config.set("gamemode_config",{setToSurvival:o,clearPlayer:r,violationCount:i,banPlayer:a}),t.tell("Updated Gamemode Protection settings!")})}function Vn(t){let e=u("nuker_data");new E("Manage Gamemode Protection").addSlider("Violation Count before ban (if ban is false this does nothing)",0,20,1,e.violationCount).addToggle("Ban Player",e.banPlayer).show(t,(n,o,r)=>{s.config.set("nuker_data",{violationCount:o,banPlayer:r}),t.tell("Updated Nuker Protection settings!")})}function Xt(t){new z("Rubedo Settings").addButton("Auto Mod","textures/ui/permissions_op_crown.png",()=>{Jt(t)}).addButton("Banned items","textures/blocks/sculk_shrieker_top.png",()=>{Yt(t)}).addButton("Banned blocks","textures/blocks/barrier.png",()=>{Kt(t)}).addButton("Enchantments","textures/items/book_enchanted.png",()=>{qt(t)}).addButton("Appeal Link","textures/ui/Feedback.png",()=>{Wt(t)}).show(t)}new c({name:"settings",description:"Opens up the settings menu for the player",requires:t=>["admin","moderator"].includes(l(t))}).executes(t=>{Xt(t.sender),t.sender.tell("\xA7aForm request sent, close chat to continue!")});import{world as Zt}from"@minecraft/server";function Qt(t,e){if(t.hasTag("spectator")){if(t.runCommand("gamemode c"),t.runCommand("event entity @s removeSpectator"),t.removeTag("spectator"),!e)return;Zt.say({rawtext:[{translate:"multiplayer.player.joined",with:[`\xA7e${t.name}`]}]})}else{if(t.runCommand("gamemode spectator"),t.runCommand("event entity @s addSpectator"),t.addTag("spectator"),!e)return;Zt.say({rawtext:[{translate:"multiplayer.player.left",with:[`\xA7e${t.name}`]}]})}}new c({name:"vanish",description:"Toggles Vanish Mode on the sender",requires:t=>l(t)=="admin"}).executes(t=>{Qt(t.sender,!1)}).boolean("say").executes((t,e)=>{Qt(t.sender,e)});new c({name:"version",description:"Get Current Version",aliases:["v"]}).executes(t=>{t.reply(`Current Rubedo Version: ${bt}`)});new c({name:"kick",description:"Kicks a player from the game",requires:t=>l(t)=="admin"}).argument(new g.player).string("reason").executes((t,e,n)=>{B(e,[n]),t.reply(`\xA7aKicked ${e.name} from world`)});var j=class{constructor(e){this.data=e,console.warn(`[LOG]: ${e.message}`),s.logs.set(Date.now().toString(),e)}};function Ze(t){var e=6e4,n=e*60,o=n*24,r=o*30,i=o*365,a=Date.now()-t;return a<e?Math.round(a/1e3)+" seconds ago":a<n?Math.round(a/e)+" minutes ago":a<o?Math.round(a/n)+" hours ago":a<r?"approximately "+Math.round(a/o)+" days ago":a<i?"approximately "+Math.round(a/r)+" months ago":"approximately "+Math.round(a/i)+" years ago"}var ue=new c({name:"log",description:"Manages the log command",requires:t=>l(t)=="admin"});ue.literal({name:"add",description:"Adds a new log"}).string("message").executes((t,e)=>{new j({message:e}),t.reply(`\xA7aAdded new log: ${e}`)});ue.literal({name:"getAll",description:"Gets all logs sorted in decending"}).int("page").array("order",["ascending","descending"]).executes((t,e,n)=>{let o=Object.entries(s.logs.getCollection()).sort((i,a)=>n=="ascending"?parseInt(a[0])-parseInt(i[0]):parseInt(i[0])-parseInt(a[0]));if(o.length==0)return t.reply("\xA7cNo Logs have been made!");let r=Math.ceil(o.length/8);e>r&&(e=r),t.reply(`\xA72--- Showing logs page ${e} of ${r} (${w}log getAll <page: int>) ---`);for(let[i,a]of o.slice(e*8-8,e*8))t.reply(`${Ze(parseInt(i))}: ${a.message}`)});ue.literal({name:"getPlayersLogs",description:"Gets all logs associated with a player"}).argument(new g.playerName).int("page").array("order",["ascending","descending"]).executes((t,e,n,o)=>{let r=Object.entries(s.logs.getCollection()).filter(a=>a[1].playerName==e).sort((a,m)=>o=="ascending"?parseInt(m[0])-parseInt(a[0]):parseInt(a[0])-parseInt(m[0]));if(r.length==0)return t.reply(`\xA7cNo Logs exists for "${e}"!`);let i=Math.ceil(r.length/8);n>i&&(n=i),t.reply(`\xA72--- Showing logs for "${e}" page ${n} of ${i} ---`);for(let[a,m]of r.slice(n*8-8,n*8))t.reply(`${Ze(parseInt(a))}: ${m.message}`)});ue.literal({name:"getProtectionLogs",description:"Gets all logs associated with a protection"}).string("protection").int("page").array("order",["ascending","descending"]).executes((t,e,n,o)=>{let r=Object.entries(s.logs.getCollection()).filter(a=>a[1].protection==e).sort((a,m)=>o=="ascending"?parseInt(m[0])-parseInt(a[0]):parseInt(a[0])-parseInt(m[0]));if(r.length==0)return t.reply(`\xA7cNo Logs exists for protection: "${e}"!`);let i=Math.ceil(r.length/8);n>i&&(n=i),t.reply(`\xA72--- Showing logs for Protection: "${e}" page ${n} of ${i} ---`);for(let[a,m]of r.slice(n*8-8,n*8))t.reply(`${Ze(parseInt(a))}: ${m.message}`)});ue.literal({name:"clearAll",description:"Clears all logs"}).executes(t=>{s.logs.clear(),t.reply("\xA7aCleared All logs!")});_(t=>{try{let e=s.bans.get(t.id);if(!e)return;if(e.expire&&e.expire<Date.now())return s.bans.delete(t.id);B(t,["\xA7cYou have been banned!",`\xA7aReason: \xA7f${e.reason}`,`\xA7fExpiry: \xA7b${e.expire?K(e.expire-Date.now()):"Forever"}`,`\xA7fAppeal at: \xA7b${u("appealLink")}`],()=>{console.warn(new Error("Failed to kick player")),s.bans.delete(t.id)})}catch(e){console.warn(e+e.stack)}},20);import{Location as Hn}from"@minecraft/server";_(t=>{let e=s.freezes.get(t.id);!e||t.teleport(new Hn(e.location.x,e.location.y,e.location.z),I[e.location.dimension],0,0)},20);import{world as Un}from"@minecraft/server";var Qe={};Un.events.beforeChat.subscribe(t=>{if(!t.message.startsWith(w))for(let e of Object.values(Qe))e.callback(t)});var Ee=class{static subscribe(e){let n=Date.now();return Qe[n]={callback:e},n}static unsubscribe(e){delete Qe[e]}};Ee.subscribe(t=>{let e=L.getMuteData(t.sender);if(!!e){if(e.expire&&e.expire<Date.now())return s.mutes.delete(t.sender.name);t.cancel=!0,t.sender.tell(T["modules.managers.mute.isMuted"]())}});import{BlockLocation as Yn,world as et}from"@minecraft/server";x(()=>{fe()},6e3);et.events.beforeItemUseOn.subscribe(t=>{if(["moderator","admin"].includes(l(t.source)))return;let e=h.blockLocationInRegion(t.blockLocation,t.source.dimension.id);if(!e)return;let n=t.source.dimension.getBlock(t.blockLocation);lt.includes(n.typeId)&&e.permissions.doorsAndSwitches||ct.includes(n.typeId)&&e.permissions.openContainers||(t.cancel=!0)});et.events.beforeExplosion.subscribe(t=>{for(let e=0;e<t.impactedBlocks.length;e++){let n=t.impactedBlocks[e];if(h.blockLocationInRegion(n,t.dimension.id))return t.cancel=!0}});et.events.entityCreate.subscribe(t=>{let e=h.blockLocationInRegion(new Yn(t.entity.location.x,t.entity.location.y,t.entity.location.z),t.entity.dimension.id);!e||e.permissions.allowedEntitys.includes(t.entity.typeId)||(t.entity.teleport({x:0,y:-64,z:0},t.entity.dimension,0,0),t.entity.kill())});x(()=>{for(let t of h.getAllRegions())for(let e of I[t.dimensionId].getEntities({excludeTypes:t.permissions.allowedEntitys}))!t.entityInRegion(e)||(e.teleport({x:0,y:-64,z:0},e.dimension,0,0),e.kill())},100);_(t=>{for(let e of h.getAllRegions())e.entityInRegion(t)?(t.addTag("inRegion"),e.permissions.pvp||t.addTag("region-protected")):(t.removeTag("inRegion"),t.removeTag("region-protected"))},5);import{world as tt}from"@minecraft/server";tt.events.playerJoin.subscribe(({player:t})=>{if(be()&&l(t)!="admin")return B(t,T["lockdown.kick.message"]());let e=tt.events.tick.subscribe(n=>{try{I.overworld.runCommand(`testfor @a[name="${t.name}"]`),tt.events.tick.unsubscribe(e),L.getMuteData(t)&&t.runCommand("ability @s mute true"),s.ids.has(t.name)?t.addTag("old"):s.ids.set(t.name,t.id);let o=M.getPlayersRoleToSet(t.name);o&&Y(t,o)}catch{}})});import{Items as Kn,MinecraftItemTypes as P,world as nt}from"@minecraft/server";var en=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],qn=[10,11,12,13,14,15,16,19,20,21,22,23,24,25,28,29,30,31,32,33,34,37,38,39,40,41,42,43];function Wn(t,e,n){let o=t.getComponent("minecraft:inventory").container;for(let r=0;r<o.size;r++){let i=e.slots[r];if(!i||!i.item){o.setItem(r,S);continue}o.setItem(r,i.item.itemStack)}for(let[r,i]of[...nt.getPlayers()].entries()){let a=en[r],m=new b(P.skull,{nameTag:i.name,data:3});o.setItem(a,m.itemStack),e.slots[a]={item:m,action:d=>{d.PageAction("moderation:see_inventory",{name:i.name})}}}}function Jn(t,e,n){let o=t.getComponent("minecraft:inventory").container;for(let d=0;d<o.size;d++){let y=e.slots[d];if(!y||!y.item){o.setItem(d,S);continue}o.setItem(d,y.item.itemStack)}let r=new b(P.enderChest,{nameTag:`\xA7eView \xA7f${n?.name}\xA7e Ender Chest
\xA7fNote: \xA7cThis will not grab \xA7lANY NBT!\xA7r`});o.setItem(49,r.itemStack),e.slots[49]={item:r,action:d=>{d.PageAction("moderation:see_ender_chest",{name:n.name})}};let i=[...nt.getPlayers()].find(d=>d.name==n.name);i||(Object.values(N).find(y=>y.entity.id==t.id).despawn(),i.tell(`"${n.name}" Could not be found, Gui Crashed`));let a=i.getComponent("inventory").container,m=0;for(let d=0;d<a.size;d++){let y=a.getItem(d),k=en[m];if(m++,!y){o.setItem(k,S);continue}o.setItem(k,y),e.slots[k]={item:new b(Kn.get(y.typeId),{amount:y.amount,data:y.data},y),action:dn=>{d<9?i.runCommand(`replaceitem entity @s slot.hotbar ${d} air`):i.runCommand(`replaceitem entity @s slot.inventory ${d-9} air`),dn.GiveAction(),e.slots[k]={item:null,action:un=>{a.addItem(un.getItemAdded())}}}}}}function Xn(t,e,n){let o=t.getComponent("minecraft:inventory").container;for(let m=0;m<o.size;m++){let d=e.slots[m];if(!d||!d.item){o.setItem(m,S);continue}o.setItem(m,d.item.itemStack)}let r=[...nt.getPlayers()].find(m=>m.name==n?.name);r||(Object.values(N).find(d=>d.entity.id==t.id).despawn(),r.tell(`"${n.name}" Could not be found, Gui Crashed`));let i=0,a=Object.values(P);for(let m of a)try{r.runCommand(`testfor @s[hasitem={item=${m.id},location=slot.enderchest}]`),console.warn(`found ${m.id}`);let d=new b(m,{nameTag:"Note: \xA7l\xA7cThis is not the exzact item"}),y=qn[i];o.setItem(y,d.itemStack),e.slots[y]={item:d,action:k=>{k.GiveAction(),e.slots[y]=null}},i++}catch{}}new F("moderation:see",Wn).setSlots([45,46,47,49,51,52,53],new b(P.stainedGlassPane,{nameTag:"\xA7r",data:15}),t=>{t.SetAction()}).setSlots([50],new b(P.arrow,{nameTag:"\xA7fBack"}),t=>{t.PageAction("home")}).setSlots([48],new b(P.barrier,{nameTag:"\xA7cClose GUI"}),t=>{t.CloseAction()});new F("moderation:see_inventory",Jn).setSlots([45,46,47,49,51,52,53],new b(P.stainedGlassPane,{nameTag:"\xA7r",data:15}),t=>{t.SetAction()}).setSlots([50],new b(P.arrow,{nameTag:"\xA7fBack"}),t=>{t.PageAction("moderation:see")}).setSlots([48],new b(P.barrier,{nameTag:"\xA7cClose GUI"}),t=>{t.CloseAction()});new F("moderation:see_ender_chest",Xn).setSlots([0,1,2,3,4,5,6,7,8,9,17,18,26,27,35,36,44,45,46,47,49,51,52,53],new b(P.stainedGlassPane,{nameTag:"\xA7r",data:15}),t=>{t.SetAction()}).setSlots([50],new b(P.arrow,{nameTag:"\xA7fBack"}),t=>{t.PageAction("moderation:see")}).setSlots([48],new b(P.barrier,{nameTag:"\xA7cClose GUI"}),t=>{t.CloseAction()});import{world as ot,Player as Zn}from"@minecraft/server";var Qn=["minecraft:command_block_minecart"];ot.events.entityCreate.subscribe(({entity:t})=>{if(t.typeId!="minecraft:npc")return;let e=()=>{try{t.triggerEvent("despawn"),t.kill()}catch{t.kill()}};if(Qn.includes(t.typeId)||t.typeId=="minecraft:npc"&&!J.isVaild(t))return e()});ot.events.beforeItemUseOn.subscribe(t=>{if(!(t.source instanceof Zn)||["moderator","admin"].includes(l(t.source)))return;if(yt.includes(t.item.typeId)){t.cancel=!0;return}!u("banned_blocks").includes(t.item.typeId)||(t.cancel=!0,new C(t.source,null,"Placing Banned Block"))});ot.events.blockPlace.subscribe(({player:t,block:e})=>{if(!["minecraft:chest","minecraft:trapped_chest"].includes(e.typeId))return;let n=e.getComponent("inventory")?.container;if(!n)return;let o=u("banned_items");for(let r=0;r<n.size;r++){let i=n.getItem(r);if(!!i&&!!o.includes(i.typeId)){e.dimension.runCommandAsync(`setblock ${e.x} ${e.y} ${e.z} air`),new C(t,null,"Placing Chest with Banned Items");return}}});var rt=32e4;_(t=>{(Math.abs(t.location.x)>rt||Math.abs(t.location.y)>rt||Math.abs(t.location.z)>rt)&&new C(t,null,null,"Hacking: Crasher")});import{GameMode as eo,world as to}from"@minecraft/server";var no=eo.creative,tn=new v;x(()=>{let t=u("gamemode_config");for(let e of to.getPlayers({gameMode:no})){if(["moderator","admin","builder"].includes(l(e)))continue;try{t.setToSurvival&&e.runCommand("gamemode s"),t.clearPlayer&&e.runCommand("clear @s")}catch{}let n=(tn.get(e)??0)+1;tn.set(e,n),t.banPlayer&&n>=t.violationCount&&new C(e,null,null,"Invaild Gamemode")}},20);import{world as nn}from"@minecraft/server";var oo="\xA7c\xA7k\xA7m\xA7A\xA7r\xA7cToolbox Gamer\xA7k\xA7mA\xA7r";nn.events.playerJoin.subscribe(({player:t})=>{let e=()=>B(t,["\xA7cYou have been kicked!",`\xA7aReason: \xA7f'${t.name}' is Detected for nameSpoof`,"\xA7fThis Server requires you to have a valid gamertag!"]);if(t.name==oo||[...nn.getPlayers()].filter(n=>n.name==t.name).length>1||(s.ids.get(t.name)??t.id)!=t.id||t.name.includes("\xA7"))return e()});import{world as io,Location as so}from"@minecraft/server";import{world as ro}from"@minecraft/server";var Ae=class{constructor(e){this.emptySlotsCount=e.emptySlotsCount,this.size=e.size,this.items=[];for(let n=0;n<this.size;n++)this.items[n]=e.getItem(n)}load(e){for(let n=0;n<e.size;n++)!this.items[n]||e.setItem(n,this.items[n])}};var Pe={};x(()=>{Pe={};for(let t of ro.getPlayers()){if(t.dimension.id!="minecraft:overworld")continue;let e=kt(t.location),n=e.offset(G.x,G.y,G.z),o=e.offset(-G.x,-G.y,-G.z);for(let r of n.blocksBetween(o)){if(r.y<-64)continue;let i=t.dimension.getBlock(r);!i||!ge.includes(i.typeId)||(Pe[JSON.stringify(r)]=new Ae(i.getComponent("inventory").container))}}},100);var on=new v,ao=70,mo=["snow","lush_plants_replaceable","azalea_log_replaceable","minecraft:crop","fertilize_area"],lo=["minecraft:water","minecraft:flowing_water","minecraft:lava","minecraft:flowing_lava","minecraft:bedrock"],rn=new v;io.events.blockBreak.subscribe(({block:t,brokenBlockPermutation:e,dimension:n,player:o})=>{if(["moderator","admin"].includes(l(o))||t.getTags().some(m=>mo.includes(m)))return;let r=on.get(o);if(on.set(o,Date.now()),!r||lo.includes(t.typeId)||r<Date.now()-ao)return;let i=u("nuker_data"),a=(rn.get(o)??0)+1;if(rn.set(o,a),i.banPlayer&&a>=i.violationCount&&new C(o,null,null,"Using Nuker"),n.getBlock(t.location).setPermutation(e.clone()),ge.includes(e.type.id)){let m=Pe[JSON.stringify(t.location)];m&&m.load(t.getComponent("inventory").container)}Ge(()=>{[...n.getEntities({maxDistance:2,type:"minecraft:item",location:new so(t.location.x,t.location.y,t.location.z)})].forEach(m=>m.kill())},0)});import{world as co}from"@minecraft/server";var sn=new v,an=new v;co.events.beforeChat.subscribe(t=>{if(t.message.startsWith(w)||["admin","moderator"].includes(l(t.sender)))return;let e=u("spam_config"),n=()=>{let o=(an.get(t.sender)??0)+1;an.set(t.sender,o),e.permMutePlayer&&o>=e.violationCount&&new L(t.sender,null,null,"Reached Violation count")};if(e.repeatedMessages&&sn.get(t.sender)==t.message)return t.cancel=!0,n(),t.sender.tell("\xA7cRepeated message detected!");if(e.zalgo&&/%CC%/g.test(encodeURIComponent(t.message)))return t.cancel=!0,n(),t.sender.tell("\xA7cYou message contains some type of zalgo and cannot be sent!");sn.set(t.sender,t.message)});var mn=new v;function xe(t,e){let n=t.getComponent("inventory").container,o=n.getItem(e),r=u("cbe_config");if(r.clearItem&&n.setItem(e,S),new j({playerName:t.name,message:`${t.name} Has obtained a unobtainable item: ${o.typeId}`,protection:"unobtainable"}),!r.banPlayer)return;let i=(mn.get(t)??0)+1;mn.set(t,i),!(i<r.violationCount)&&new C(t,null,"Posession of Unobtainable item")}_(t=>{let e=u("banned_items"),n=t.getComponent("inventory").container;for(let o=0;o<n.size;o++){let r=n.getItem(o);if(!r)continue;if(e.includes(r.typeId))return xe(t,o);if(ft.includes(r.typeId))return new j({playerName:t.name,message:`${t.name} Has obtained a Forbidden item: ${r.typeId}`,protection:"unobtainable"}),n.setItem(o,S);let i=[];for(let a of r.getComponent("enchantments").enchantments){let m=Ct(a);if(a.level>m)return xe(t,o);if(a.level<1||i.includes(a.type.id))return xe(t,1);i.push(a.type.id)}}});import{Player as uo,world as pe}from"@minecraft/server";var po=pe.events.beforeDataDrivenEntityTriggerEvent.subscribe(t=>{if(pe.getDynamicProperty("roleHasBeenSet"))return pe.events.beforeDataDrivenEntityTriggerEvent.unsubscribe(po);t.entity instanceof uo&&t.id=="rubedo:becomeAdmin"&&(Y(t.entity,"admin"),pe.setDynamicProperty("roleHasBeenSet",!0),pe.setDynamicProperty("worldsOwner",t.entity.id),t.entity.tell("\xA7l\xA7cYou have been given admin, the function start will not work anymore!!!!"))});import{system as fo}from"@minecraft/server";fo.events.beforeWatchdogTerminate.subscribe(t=>{t.cancel=!0,console.warn(`WATCHDOG TRIED TO CRASH = ${t.terminateReason}`)});import{DynamicPropertiesDefinition as it,EntityTypes as go,MinecraftEntityTypes as yo,world as cn}from"@minecraft/server";var ln=[];cn.events.worldInitialize.subscribe(({propertyRegistry:t})=>{I.overworld.runCommandAsync(`tickingarea add ${R.x} ${R.y} ${R.z} ${R.x} ${R.y} ${R.z} db true`);let e=new it;e.defineString("name",30),e.defineNumber("index"),t.registerEntityTypeDynamicProperties(e,go.get(X));let n=new it;n.defineString("role",30),t.registerEntityTypeDynamicProperties(n,yo.player);let o=new it;o.defineBoolean("roleHasBeenSet"),o.defineString("worldsOwner",100),o.defineBoolean("isLockDown"),t.registerWorldDynamicProperties(o);for(let r of ln)cn.scoreboard.addObjective(r.objective,r.displayName??"")});console.warn("----- Importing Plugins -----");console.warn("---- STARTING RUBEDO ----");var Te=[];function Vt(){Te=[]}var Ne=null,S=new ho(bo.stick,0);Io.events.tick.subscribe(t=>{Ne?Ne=Ne+1:Ne=t.currentTick});export{S as AIR,Ne as CURRENT_TICK,Te as NPC_LOCATIONS,Vt as clearNpcLocations};
//# sourceMappingURL=index.js.map
