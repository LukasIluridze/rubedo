import{ItemStack as cr,MinecraftItemTypes as lr,world as fr}from"@minecraft/server";import{world as Wt}from"@minecraft/server";var w="-";import{Location as Kt}from"@minecraft/server";import{world as qt}from"@minecraft/server";function He(t){return[...qt.getPlayers()].find(e=>e.name===t)}var x=class{constructor(e="literal"){this.name=e;this.typeName="literal";this.name=e}matches(e){return{success:this.name==e}}fail(e){return`${e} should be ${this.name}!`}},H=class{constructor(e="string"){this.name=e;this.typeName="string";this.name=e}matches(e){return{success:e&&e!="",value:e}}fail(e){return"Value must be of type string!"}},Y=class{constructor(e="integer"){this.name=e;this.typeName="int";this.name=e}matches(e){return{success:!isNaN(e),value:parseInt(e)}}fail(e){return"Value must be vaild number!"}},ke=class{constructor(e="float"){this.name=e;this.typeName="float";this.name=e}matches(e){return{success:Boolean(e?.match(/^\d+\.\d+$/)?.[0]),value:parseInt(e)}}fail(e){return"Value must be vaild float!"}},B=class{constructor(e="location"){this.name=e;this.typeName="location";this.name=e}matches(e){return{success:/^([~^]{0,1}(-\d)?(\d*)?(\.(\d+))?)$/.test(e),value:e}}fail(e){return"Value needs to be a vaild number, value can include: [~,^]"}},q=class{constructor(e="boolean"){this.name=e;this.typeName="boolean";this.name=e}matches(e){return{success:Boolean(e?.match(/^(true|false)$/)?.[0]),value:e=="true"}}fail(e){return`"${e}" can be either "true" or "false"`}},Ce=class{constructor(e="player"){this.name=e;this.typeName="playerName";this.name=e}matches(e){return{success:!!He(e),value:He(e)}}fail(e){return`player: "${e}", is not in this world`}},Te=class{constructor(e="target"){this.name=e;this.typeName="Target";this.name=e}matches(e){return{success:Boolean(e?.match(/^(@.|"[\s\S]+")$/)?.[0]),value:e}}fail(e){return`${e} is not a vaild target`}},K=class{constructor(e="array",n){this.name=e;this.types=n;this.typeName="string";this.name=e,this.types=n,this.typeName=n.join(" | ").replace(/(.{25})..+/,"$1...")}matches(e){return{success:this.types.includes(e),value:e}}fail(e){return`"${e}" must be one of these values: ${this.types.join(" | ")}`}},ve=class{constructor(e){this.name=e;this.typeName="UnitValueType";this.types=["years","yrs","weeks","days","hours","hrs","minutes","mins","seconds","secs","milliseconds","msecs","ms"]}matches(e){return this.types.includes(e)?{success:e&&e!="",value:e}:{success:!1}}fail(e){return`"${e}" must be one of these values: ${this.types.join(" | ")}`}},_={string:H,int:Y,float:ke,location:B,boolean:q,player:Ce,target:Te,array:K,unit:ve};var se=class{constructor(e){this.data=e,this.sender=e.sender}reply(e){this.sender.tell(e)}};function Ye(t,e){return t.slice(e.length).trim().match(/"[^"]+"|[^\s]+/g).map(n=>n.replace(/"(.+)"/,"$1").toString())}function qe(t,e){t.tell({rawtext:[{text:"\xA7c"},{translate:"commands.generic.unknown",with:[`${e}`]}]})}function Se(t,e){t.tell({rawtext:[{text:e.data.invaildPermission?e.data.invaildPermission:`\xA7cYou do not have perrmission to use "${e.data.name}"`}]})}function Ke(t,e,n,r,o){if(t.tell({rawtext:[{text:"\xA7c"},{translate:"commands.generic.syntax",with:[`${w}${e.data.name} ${r.slice(0,o).join(" ")}`,r[o]??" ",r.slice(o+1).join(" ")]}]}),n.children.length>1){let i=n.children.map(s=>s.type instanceof x?s.type.name:s.type?.typeName);t.tell({rawtext:[{text:`\xA7c"${r[o]??" "}" can be: ${i.join(", ")}`}]})}else t.tell({rawtext:[{text:`\xA7c${n.children[0]?.type?.fail(r[o]??"undefined")}`}]})}function Jt([t,e,n],{location:r,viewVector:o}){if(!t||!e||!t)return null;let i=[r.x,r.y,r.z],s=[o.x,o.y,o.z],m=[t,e,n].map(d=>{let p=parseInt(d.replace(/\D/g,""));return isNaN(p)?0:p}),c=[t,e,n].map((d,p)=>d.includes("~")?m[p]+i[p]:d.includes("^")?m[p]+s[p]:m[p]);return new Kt(c[0],c[1],c[2])}function Je(t,e,n,r){let o=e[e.length-1]??r,i=[];for(let[s,m]of e.entries())if(!m.type.name.endsWith("*")){if(m.type instanceof B){i.push(Jt([t[s],t[s+1],t[s+2]],n.sender));continue}m.type instanceof x||i.push(m.type.matches(t[s]).value??t[s])}o.callback(new se(n),...i)}var E=[];Wt.events.beforeChat.subscribe(t=>{if(!t.message.startsWith(w))return;t.cancel=!0;let e=Ye(t.message,w),n=E.find(i=>i.depth==0&&(i.data.name==e[0]||i.data?.aliases?.includes(e[0])));if(!n)return qe(t.sender,e[0]);if(!n.data?.requires(t.sender))return Se(t.sender,n);e.shift();let r=[],o=(i,s)=>{if(i.children.length>0){let m=i.children.find(c=>c.type.matches(e[s]).success);return!m&&!e[s]&&i.callback?void 0:m?m.data?.requires(t.sender)?(r.push(m),o(m,s+1)):(Se(t.sender,m),"fail"):(Ke(t.sender,n,i,e,s),"fail")}};o(n,0)||Je(e,r,t,n)});import{Player as dn,world as Ne}from"@minecraft/server";var We="rubedo:gui",J="rubedo:inventory";import{world as A,Player as tn,BlockLocation as Ae,MinecraftBlockTypes as nn,MinecraftDimensionTypes as $}from"@minecraft/server";var L={"api.name":()=>"Smelly API","api.error.unknown":()=>"An unknown error has occured.","api.database.error.table_name":(t,e)=>`The display name ${t} is too long for an objective, it can be at most ${e} characters long`,"api.utilities.formatter.error.ms":t=>`${t} is not a string or a number`,"api.Providers.form.invaildtype":(t,e)=>`Type ${t} is not a vaild type to add a ${e}`,"api.Providers.form.invaildFormtype":(t,e)=>{`${t}${JSON.stringify(e)}`},"api.ChestGUI.error.pagenotfound":t=>`Page ${t} not found!`,"modules.protections.cps.clickingToFast":()=>"You are clicking to fast! Please click slower!","modules.managers.mute.isMuted":()=>"You are muted and cannot send messages please try again later","modules.commands.ban.reply":(t,e=0,n="",r="")=>`\xA7cBanned \xA7f"\xA7a${t}\xA7f" \xA7cfor ${e} ${n} Because: "${r??"No reason Provided"}" \xA7aSuccessfully`};import{BlockLocation as Xt}from"@minecraft/server";var Xe=32e3,W="rubedo:database",Ee=new Xt(0,-64,0);import{ItemStack as Zt,MinecraftItemTypes as Qt}from"@minecraft/server";function Ze(t,e){return t.match(new RegExp(".{1,"+e+"}","g"))}var u=class{static compress(e){return e}static decompress(e){return e}static createEntity(e,n){let r=b.overworld.spawnEntity(W,Ee);r.setDynamicProperty("name",e),r.setDynamicProperty("index",n);let o=r.getComponent("inventory").container,i=new Zt(Qt.acaciaBoat,1);return n==0&&(i.nameTag="{}"),o.setItem(0,i),r}static getInventorySlotName(e,n){return e.getComponent("inventory").container.getItem(n)?.nameTag}static setInventorySlotName(e,n,r){let o=e.getComponent("inventory").container,i=o.getItem(n);return i.nameTag=r,o.setItem(n,i)}constructor(e){this.name=e,this.savedEntitys=void 0,this.MEMORY=void 0}get entitys(){if(this.savedEntitys)return this.savedEntitys;let e=b.overworld.getEntitiesAtBlockLocation(Ee).filter(n=>n.typeId==W&&n.getDynamicProperty("name")==this.name);return this.savedEntitys=e,e}data(){if(this.MEMORY)return this.MEMORY;if(this.entitys.length==0&&u.createEntity(this.name,0),this.entitys.length==1){let n=JSON.parse(u.decompress(u.getInventorySlotName(this.entitys[0],0)));return this.MEMORY=n,n}let e=new Array(this.entitys.length);for(let n of this.entitys){let r=n.getDynamicProperty("index");e[r]=u.getInventorySlotName(n,0)}try{e=JSON.parse(e.join(""))}catch{e={}}return this.MEMORY=e,e}save(e){this.MEMORY=e;let n=Ze(u.compress(JSON.stringify(e)),Xe);if(this.entitys&&n.length==this.entitys.length)for(let r=0;r<n.length;r++)u.setInventorySlotName(this.entitys[r],0,n[r]);else{this.entitys?.forEach(r=>r?.triggerEvent("despawn")),this.savedEntitys=void 0;for(let r=0;r<n.length;r++){let o=u.createEntity(this.name,r);u.setInventorySlotName(o,0,n[r])}}}set(e,n){let r=this.data();r[e]=n,this.save(r)}get(e){return this.data()[e]}has(e){return this.keys().includes(e)}delete(e){let n=this.data(),r=delete n[e];return this.save(n),r}size(){return this.keys().length}clear(){this.save({})}keys(){return Object.keys(this.data())}values(){return Object.values(this.data())}getCollection(){return this.data()}};var a={config:new u("config"),freezes:new u("freezes"),mutes:new u("mutes"),bans:new u("bans"),regions:new u("regions"),roles:new u("roles"),tasks:new u("tasks"),npcs:new u("npcs"),ids:new u("ids")};var Qe={doorsAndSwitches:!0,openContainers:!0,pvp:!1,allowedEntitys:["minecraft:player","minecraft:npc","minecraft:item"]},et=["minecraft:acacia_door","minecraft:acacia_trapdoor","minecraft:acacia_button","minecraft:birch_door","minecraft:birch_trapdoor","minecraft:birch_button","minecraft:crimson_door","minecraft:crimson_trapdoor","minecraft:crimson_button","minecraft:dark_oak_door","minecraft:dark_oak_trapdoor","minecraft:dark_oak_button","minecraft:jungle_door","minecraft:jungle_trapdoor","minecraft:jungle_button","minecraft:mangrove_door","minecraft:mangrove_trapdoor","minecraft:mangrove_button","minecraft:spruce_door","minecraft:spruce_trapdoor","minecraft:spruce_button","minecraft:warped_door","minecraft:warped_trapdoor","minecraft:warped_button","minecraft:wooden_door","minecraft:wooden_button","minecraft:trapdoor","minecraft:iron_door","minecraft:iron_trapdoor","minecraft:polished_blackstone_button","minecraft:lever"],tt=["minecraft:chest","minecraft:ender_chest","minecraft:barrel","minecraft:trapped_chest","minecraft:dispenser","minecraft:dropper","minecraft:furnace","minecraft:blast_furnace","minecraft:lit_furnace","minecraft:lit_blast_furnace","minecraft:hopper","minecraft:shulker_box","minecraft:undyed_shulker_box"];var Pe=[],en=!1,nt=-64,rt=320;function ot(t,e,n){return n.every((r,o)=>r>=Math.min(t[o],e[o])&&r<=Math.max(t[o],e[o]))}var g=class{static getAllRegions(){if(en)return Pe;let e=a.regions.values().map(n=>new g(n.from,n.to,n.dimensionId,n.permissions,n.key));return e.forEach(n=>{Pe.push(n)}),e}static blockLocationInRegion(e,n){return this.getAllRegions().find(r=>r.dimensionId==n&&ot([r.from.x,nt,r.from.z],[r.to.x,rt,r.to.z],[e.x,e.y,e.z]))}static removeRegionAtBlockLocation(e,n){let r=this.blockLocationInRegion(e,n);return r?a.regions.delete(r.key):!1}constructor(e,n,r,o,i){this.from=e,this.to=n,this.dimensionId=r,this.permissions=o??Qe,this.key=i||Date.now().toString(),i||(this.update(),me(),Pe.push(this))}update(){a.regions.set(this.key,{key:this.key,from:this.from,dimensionId:this.dimensionId,permissions:this.permissions,to:this.to})}delete(){return a.regions.delete(this.key)}entityInRegion(e){return this.dimensionId==e.dimension.id&&ot([this.from.x,nt,this.from.z],[this.to.x,rt,this.to.z],[e.location.x,e.location.y,e.location.z])}changePermission(e,n){this.permissions[e]=n,this.update()}};var P=class{static getTasks(){return a.tasks.get("changePlayerRole")??[]}static getPlayersRoleToSet(e){return P.getTasks().find(r=>r.playerName==e)?.role}constructor(e,n){let r=P.getTasks();r.push({playerName:e,role:n}),a.tasks.set("changePlayerRole",r)}};var b={overworld:A.getDimension($.overworld),nether:A.getDimension($.nether),theEnd:A.getDimension($.theEnd),"minecraft:overworld":A.getDimension($.overworld),"minecraft:nether":A.getDimension($.nether),"minecraft:the_end":A.getDimension($.theEnd)};function ce(t,e=[],n){try{t.runCommand(`kick "${t.nameTag}" \xA7r${e.join(`
`)}`),t.triggerEvent("kick")}catch(r){if(!/"statusCode":-2147352576/.test(r))return;n&&n()}}function l(t){return t instanceof tn?a.roles.get(t.name)??"member":a.roles.get(t)??"member"}function O(t,e){if(typeof t=="string"){a.roles.set(t,e);let n=[...A.getPlayers()].find(r=>r.name==t);n?n.setDynamicProperty("role",e):new P(t,e)}else a.roles.set(t.name,e),t.setDynamicProperty("role",e)}function me(){for(let t of g.getAllRegions()){let e=new Ae(t.from.x,-64,t.from.z),n=new Ae(t.to.x,-64,t.to.z);for(let r of e.blocksBetween(n))b[t.dimensionId].getBlock(r)?.setType(nn.deny)}}var it=[];function I(t,e=0){it.push({callback:t,delay:e,lastCall:0})}A.events.tick.subscribe(t=>{let e=[...A.getPlayers()];for(let[n,r]of e.entries())if(!["moderator","admin"].includes(l(r)))for(let o of it)o.delay!=0&&t.currentTick-o.lastCall<o.delay||(o.callback(r,t),n==e.length-1&&(o.lastCall=t.currentTick))});function at(t,e="overworld",n=!1){try{return n?console.warn(JSON.stringify(this.runCommand(t))):b.overworld.runCommand(t)}catch{return{error:!0}}}function F(t,{compactDuration:e,fullDuration:n,avoidDuration:r}={}){try{if(typeof t=="string"){if(/^\d+$/.test(t))return Number(t);let o=t.match(/-?\d*\.?\d+\s*?(years?|yrs?|weeks?|days?|hours?|hrs?|minutes?|mins?|seconds?|secs?|milliseconds?|msecs?|ms|[smhdwy])/gi);return o?o.reduce((i,s)=>i+rn(s),0):null}if(typeof t=="number")return on(t,{compactDuration:e,fullDuration:n,avoidDuration:r});throw new Error(L["api.utilities.formatter.error.ms"](t))}catch(o){let i=an(o)?`${o.message}. Value = ${JSON.stringify(t)}`:L["api.error.unknown"]();throw new Error(i)}}function rn(t){let e=Number(t.replace(/[^-.0-9]+/g,""));return t=t.replace(/\s+/g,""),/\d+(?=y)/i.test(t)?e*3154e7:/\d+(?=w)/i.test(t)?e*6048e5:/\d+(?=d)/i.test(t)?e*864e5:/\d+(?=h)/i.test(t)?e*36e5:/\d+(?=m)/i.test(t)?e*6e4:/\d+(?=s)/i.test(t)?e*1e3:/\d+(?=ms|milliseconds?)/i.test(t)?e:0}function on(t,{compactDuration:e,fullDuration:n,avoidDuration:r}={}){let o=Math.abs(t),s=[{short:"w",long:"week",duration:Math.floor(o/6048e5)},{short:"d",long:"day",duration:Math.floor(o/864e5)%7},{short:"h",long:"hour",duration:Math.floor(o/36e5)%24},{short:"m",long:"minute",duration:Math.floor(o/6e4)%60},{short:"s",long:"second",duration:Math.floor(o/1e3)%60},{short:"ms",long:"millisecond",duration:o%1e3}].filter(c=>c.duration!==0&&r?n&&!r.map(d=>d.toLowerCase()).includes(c.short):c.duration).map(c=>`${Math.sign(t)===-1?"-":""}${e?`${Math.floor(c.duration)}${c.short}`:`${Math.floor(c.duration)} ${c.long}${c.duration===1?"":"s"}`}`);return(n?s.join(e?" ":", "):s[0])||`${o}`}function an(t){return typeof t=="object"&&t!==null&&"message"in t}function st(t){return new Ae(Math.floor(t.x),Math.floor(t.y),Math.floor(t.z))}import{world as mt}from"@minecraft/server";var ct=new Map,X=class{constructor(e,n,r=!1,o=Date.now()){this.callbackTick=null,this.tickDelay=n,this.loop=r,this.callback=e,this.id=o,ct.set(o,this),this.TickCallBack=mt.events.tick.subscribe(({currentTick:i})=>{if(this.callbackTick||(this.callbackTick=i+this.tickDelay),!(this.callbackTick>i)){if(this.callback(i),!this.loop)return this.expire();this.callbackTick=i+this.tickDelay}})}expire(){mt.events.tick.unsubscribe(this.TickCallBack),ct.delete(this.id)}};var lt=t=>new Promise(e=>xe(e,t));function xe(t,e){new X(t,e)}function v(t,e){return new X(t,e,!0)}import{world as gt}from"@minecraft/server";var Re={},ft={};function sn(t,e){if(t.length!=e.length)return[];let n=[];for(let r=0;r<e.length;r++){if(t[r]?.item?.amount<e[r]?.item?.amount||t[r]?.item?.amount>e[r]?.item?.amount&&t[r]?.item?.amount!=0){n.push({slot:r,uid:e[r].uid,oldUid:t[r].uid,item:e[r].item,oldItem:t[r].item,moveType:"fluctuation"});continue}e[r].uid!=t[r].uid&&(t[r]?.item&&e[r]?.item?n.push({slot:r,uid:e[r].uid,oldUid:t[r].uid,item:e[r].item,oldItem:t[r].item,moveType:"swap"}):e[r]?.item?e[r]?.item&&n.push({slot:r,uid:e[r].uid,item:e[r].item,moveType:"put"}):n.push({slot:r,uid:t[r].uid,item:t[r].item,moveType:"delete"}))}return n}function mn(t){if(!t)return"";let e=[];return e.push(t.typeId),e.push(t.nameTag),e.push(t.data),e.join("")}function cn(t){let e=[];for(let n=0;n<t.size;n++){let r=t.getItem(n);e[n]={uid:mn(r),item:r}}return e}v(()=>{for(let t of Object.values(Re))for(let e of b.overworld.getEntities(t.entities)){let n=cn(e.getComponent("inventory").container),r=sn(ft[e.id]??n,n);if(ft[e.id]=n,r.length!=0)for(let o of r)t.callback(e,o)}},5);var Z=class{static subscribe(e,n){let r=Date.now();return Re[r]={callback:n,entities:e},r}static unsubscribe(e){delete Re[e]}};import{world as ln}from"@minecraft/server";var h=class{constructor(){this.data=new Map,this.events={playerLeave:ln.events.playerLeave.subscribe(e=>this.data.delete(e.playerName))}}set(e,n){this.data.set(e.name,n)}get(e){return this.data.get(e.name)}delete(e){this.data.delete(e.name)}clear(){this.data.clear()}playerNames(){return[...this.data.keys()]}};var R={},z={},Q=new h;function dt(t){return t.getComponent("minecraft:inventory").container.getItem(t.selectedSlot)}async function pt(t,e){try{let n=t.getComponent("minecraft:inventory").container,r=[];for(let o=0;o<n.size;o++){let i=n.getItem(o);!i||i?.typeId==e?.typeId&&(r.push({slot:o,item:i}),n.setItem,o<9?t.runCommand(`replaceitem entity @s slot.hotbar ${o} air`):t.runCommand(`replaceitem entity @s slot.inventory ${o-9} air`))}t.runCommand(`clear @s ${e?.typeId} ${e.data} ${e.amount}`);for(let o of r)n.setItem(o.slot,o.item)}catch{[...t.dimension.getEntities({type:"minecraft:item",location:t.location,maxDistance:2,closest:1})].forEach(r=>r.kill())}}function ut(t,e){return t.getComponent("minecraft:inventory").container.getItem(e)}var le=class{constructor(e,n,r){this.gui=e,this.slot=n,this.change=r}message(e){this.gui.player.tell(e)}getItemAdded(){return this.slot.item?null:this.gui.entity.getComponent("minecraft:inventory").container.getItem(this.change.slot)}GiveAction(e=this.slot.item.itemStack){this.gui.player.getComponent("minecraft:inventory").container.addItem(e)}TakeAction(e=null){this.gui.player.getComponent("minecraft:inventory").container.addItem(this.slot.item.itemStack),this.gui.page.slots[this.change.slot]=null,e&&e.delete(this.slot.item.components.dbKey)}PageAction(e,n){this.gui.setPage(e,n)}CloseAction(){this.gui.despawn()}SetAction(){this.gui.entity.getComponent("minecraft:inventory").container.setItem(this.change.slot,this.slot.item.itemStack)}async FormAction(e){return this.CloseAction(),await lt(5),await e.show(this.gui.player)}};var G=class{static spawnEntity(e){try{return e.dimension.spawnEntity(J,e.headLocation)}catch{return null}}constructor(e){this.player=e,this.entity=G.spawnEntity(e),this.entity&&(this.hasChestOpen=!1,this.setPage("home")),this.tickEvent=gt.events.tick.subscribe(()=>{if(!this.entity)return this.despawn();if(Q.get(this.player))this.hasChestOpen||(this.slotChangeEvent=Z.subscribe({type:J},(n,r)=>{n.id==this.entity.id&&this.onSlotChange(r)})),this.hasChestOpen=!0;else try{this.entity.teleport(this.player.headLocation,this.player.dimension,0,0)}catch{this.despawn()}})}setPage(e,n){if(!Object.keys(z).includes(e))throw new Error(`pageId ${e} does not exist!`);let r=z[e];this.page=r,r.fillType(this.entity,r,n),this.entity.nameTag="size:54"}onSlotChange(e){let n=this.page.slots[e.slot];if(!n)this.entity.getComponent("inventory").container.setItem(e.slot,M);else if(e.moveType=="delete"){if(n.item&&pt(this.player,e.item),!n.item&&!ut(this.entity,e.slot))return;n.action(new le(this,n,e))}}despawn(){try{this.entity?.triggerEvent("despawn")}catch{}try{delete R[this.player.name]}catch{}this.tickEvent&&gt.events.tick.unsubscribe(this.tickEvent),this.slotChangeEvent&&Z.unsubscribe(this.slotChangeEvent)}};import{ItemStack as fn}from"@minecraft/server";var y=class{constructor(e,n={},r){this.itemType=e,this.components=n,this.setItemStack=r}get itemStack(){if(this.setItemStack)return this.setItemStack;let e=new fn(this.itemType);if(this.components){e.amount=this.components?.amount??1,e.data=this.components?.data??0,e.nameTag=this.components?.nameTag,e.setLore(this.components?.loreList??[]);let n=e.getComponent("enchantments").enchantments;for(let r of this.components?.enchantments??[])n.addEnchantment(r);e.getComponent("enchantments").enchantments=n}return e}};function yt(t,e,n){let r=t.getComponent("minecraft:inventory").container;for(let o=0;o<r.size;o++){let i=e.slots[o];if(!i||!i.item){r.setItem(o,M);continue}r.setItem(o,i.item.itemStack)}}var N=class{constructor(e,n=yt){if(Object.keys(z).includes(e))throw new Error(`Page: ${e}, Already exists!`);this.id=e,this.fillType=n,this.slots=[],z[e]=this}setSlots(e,n,r){let o=n?{item:n,action:r}:null;for(let i of e)this.slots[i]=o;return this}};import{MinecraftItemTypes as Me}from"@minecraft/server";var Ho=new N("home").setSlots([0,1,2,3,4,5,6,7,8,9,17,18,26,27,35,36,44,45,46,47,48,50,51,52,53],new y(Me.stainedGlassPane,{data:15,nameTag:"\xA7r"}),t=>{t.SetAction()}).setSlots([22],new y(Me.enderChest,{nameTag:"\xA7l\xA7bInventory Viewer"}),t=>{t.PageAction("moderation:see")}).setSlots([54],new y(Me.barrier,{nameTag:"\xA7cClose GUI"}),t=>{t.CloseAction()});Ne.events.tick.subscribe(t=>{for(let e of Ne.getPlayers()){if(dt(e)?.typeId!=We){R[e.name]&&R[e.name].despawn();continue}Object.keys(R).includes(e?.name)||(R[e.name]=new G(e))}});Ne.events.beforeDataDrivenEntityTriggerEvent.subscribe(t=>{t.entity instanceof dn&&(t.id=="rubedo:has_container_open"?Q.set(t.entity,!0):t.id=="rubedo:dosent_have_container_open"&&Q.set(t.entity,!1))});v(()=>{let t=Object.values(R).map(e=>e.entity.id);for(let e of b.overworld.getEntities({type:J}))t.includes(e.id)||e.triggerEvent("despawn")},100);var f=class{constructor(e,n,r=0,o){this.data=e;this.type=n;this.depth=r;this.parent=o;e.requires||(e.requires=i=>!0),this.data=e,this.type=n??new x(this.data.name),this.children=[],this.depth=r,this.parent=o,this.callback=null,E.push(this)}argument(e){let n=new f(this.data,e,this.depth+1,this);return this.children.push(n),n}string(e){return this.argument(new H(e))}int(e){return this.argument(new Y(e))}array(e,n){return this.argument(new K(e,n))}boolean(e){return this.argument(new q(e))}location(e){let n=this.argument(new B(e));return e.endsWith("*")?n:n.location(e+"_y*").location(e+"_z*")}literal(e){let n=new f(e,new x(e.name),this.depth+1,this);return this.children.push(n),n}executes(e){return this.callback=e,this}};import{Player as ht}from"@minecraft/server";var k=class{constructor(e,n,r,o="No Reason",i="Smelly Anti Cheat"){let s=e instanceof ht?e.id:a.ids.get(e);if(!s)throw new Error(`"${e}" does not have a saved id!`);n=n?F(`${n} ${r}`):null;let m={key:s,playerName:e instanceof ht?e.name:e,date:Date.now(),length:n,expire:n?n+Date.now():null,reason:o,by:i};a.bans.set(s,m)}};var Le=class{constructor(e="playerName"){this.name=e;this.typeName="playerName";this.name=e}matches(e){return{success:!!a.ids.get(e),value:e}}fail(e){return`player: "${e}" has never played this world before!`}};function Be(t,e,n,r,o,i){if(a.bans.get(a.ids.get(e)))return t.reply(`\xA7c${e} is already banned`);new k(e,n,r,o,t.sender.name),t.reply(L["modules.commands.ban.reply"](e,n,r,o))}new f({name:"ban",description:"Bans a player for lengths",requires:t=>l(t)=="admin"}).argument(new Le).executes((t,e)=>{Be(t,e,null,null,null,t.sender.name)}).argument(new _.int("length")).argument(new _.unit("unit")).executes((t,e,n,r)=>{Be(t,e,n,r,null,t.sender.name)}).string("reason").executes((t,e,n,r,o)=>{Be(t,e,n,r,o,t.sender.name)});var De=new f({name:"database",description:"Interacts with SA Database",aliases:["db"],requires:t=>l(t)=="admin"});De.literal({name:"get"}).string("table").string("key").executes((t,e,n)=>{try{let r=a[e].get(n);r?t.reply(r):t.reply(`No data could be found for key ${n}`)}catch(r){t.reply(r+r.stack)}});De.literal({name:"set"}).string("table").string("key").string("value").executes((t,e,n,r)=>{try{a[e].set(n,r),t.reply(`Set Key: "${n}", to value: "${r}" on table: "${e}"`)}catch(o){t.reply(o+o.stack)}});De.literal({name:"clear"}).string("table").executes((t,e)=>{try{a[e].clear(),t.reply(`Cleared Table ${e}`)}catch(n){t.reply(n+n.stack)}});new f({name:"ecwipe",description:"Clears a players ender chest",requires:t=>l(t)=="admin"}).argument(new _.player("player")).executes((t,e)=>{for(let n=0;n<27;n++)e.runCommand(`replaceitem entity @s slot.enderchest ${n} air`);t.reply(`Cleared ${e.name} Ender chest!`)});var fe=class{constructor(e,n="No Reason"){let r={player:e.name,key:e.id,reason:n,location:{x:e.location.x,y:e.location.y,z:e.location.z,dimension:e.dimension.id}};a.freezes.set(e.id,r)}};new f({name:"freeze",description:"Freeze a player",requires:t=>l(t)=="admin"}).argument(new _.player("player")).string("reason").executes((t,e,n)=>{new fe(e,n),t.reply(`\xA7cFroze \xA7f"\xA7a${e.name}\xA7f" Because: "${n}" \xA7aSuccessfully`),t.sender.tell(`\xA7cYou have been frozen by \xA7f"\xA7a${t.sender.name}\xA7f" Because: "${n}"`)});var $e=class{constructor(e){this.name=e;this.typeName="CommandName"}matches(e){return{success:Boolean(E.find(n=>n.depth==0&&n.data.name==e)),value:e}}fail(e){return`"${e}" is not a vaild command`}};function pn(t,e,n){n.tell(`${w}${t.data.name} ${e.map(r=>r.type.typeName=="literal"?r.data.name:`<${r.type.name}: ${r.type.typeName}>`).join(" ")}`)}function de(t,e,n,r){if(!e.data?.requires(r))return console.warn(`no perm ${e.data.name}`);if(e.callback&&pn(t,e.depth==0?n:n.concat(e),r),e.children.length>0)for(let o of e.children)de(t,o,e.depth==0?n:n.concat(e),r)}function bt(t,e,n){t.tell({rawtext:[{text:`\xA72--- Showing help page ${e} of ${n} (${w}help <page: int>) ---`}]})}function _t(t){let e=E.filter(n=>n.depth==0&&n.data?.requires(t));return e.length==0?0:Math.ceil(e.length/5)}var wt=new f({name:"help",description:"Provides help/list of commands.",aliases:["?","h"]}).executes(t=>{let e=_t(t.sender),n=E.filter(r=>r.depth==0&&r.data?.requires(t.sender)).slice(1*5-5,1*5);bt(t.sender,1,e);for(let r of n)de(r,r,[],t.sender)});wt.int("page").executes((t,e)=>{let n=_t(t.sender);e>n&&(e=n);let r=E.filter(o=>o.depth==0&&o.data?.requires(t.sender)).slice(e*5-5,e*5);bt(t.sender,e,n);for(let o of r)de(o,o,[],t.sender)});wt.argument(new $e("command")).executes((t,e)=>{let n=E.filter(r=>r.depth==0&&r.data.name==e)[0];de(n,n,[],t.sender)});var S=class{static getMuteData(e){return a.mutes.get(e.name)}constructor(e,n,r,o="No Reason",i="Smelly Anti Cheat"){e.runCommand("ability @s mute true");let s=n?F(`${n} ${r}`):null,m={player:e.name,date:Date.now(),length:s,expire:s?s+Date.now():null,reason:o,by:i};a.mutes.set(e.name,m)}};new f({name:"mute",description:"Mute a player for lengths",requires:t=>["admin","moderator"].includes(l(t))}).argument(new _.player("player")).argument(new _.int("length")).argument(new _.unit("unit")).string("reason").executes((t,e,n,r,o)=>{new S(e,n,r,o,t.sender.name),t.reply(`\xA7cMuted \xA7f"\xA7a${e.name}\xA7f" \xA7cfor ${n} ${r} Because: "${o}" \xA7aSuccessfully`),e.tell(`\xA7cYou have been muted by \xA7f"${t.sender.name}" \xA7cfor ${n} ${r} Because: "${o}"`)});var V=class{static isVaild(e){return e.typeId!="minecraft:npc"?!1:pe.find(n=>n.equals(e.location))?!0:!!a.npcs.keys().find(n=>e.id==n)}constructor(e,n){pe.push(e);let r=n.spawnEntity("minecraft:npc",e),o={dimension:r.dimension.id,x:r.location.x,y:r.location.y,z:r.location.z};a.npcs.set(r.id,o),It()}};new f({name:"npc",description:"Spawns a npc at your coordinates",requires:t=>l(t)=="admin"}).executes(t=>{new V(t.sender.location,t.sender.dimension),t.reply("Spawned a verifed npc at your current location")});import{world as kt}from"@minecraft/server";new f({name:"ping",description:"Returns the current TPS of the servers ping"}).executes(t=>{let e=kt.events.tick.subscribe(({deltaTime:n})=>{t.reply(`Pong! Current TPS: ${1/n}`),kt.events.tick.unsubscribe(e)})});import{BlockLocation as ee}from"@minecraft/server";var te=new f({name:"region",description:"Create a Region",requires:t=>l(t)=="admin"});te.literal({name:"add",description:"Adds a new protection region"}).int("from_x").int("from_z").int("to_x").int("to_z").executes((t,e,n,r,o)=>{new g({x:e,z:n},{x:r,z:o},t.sender.dimension.id),t.reply(`Created Region From ${e} -64 ${n} ${r} 320 ${o}`)});te.literal({name:"remove",description:"Removes a region at the players current postion"}).executes(t=>{let e=new ee(t.sender.location.x,t.sender.location.y,t.sender.location.z);g.removeRegionAtBlockLocation(e,t.sender.dimension.id)?t.reply(`Removed Region at ${e.x} ${e.y} ${e.z}`):t.reply(`Failed to find/remove region at ${e.x} ${e.y} ${e.z}`)});te.literal({name:"removeAll",description:"Removes all regions"}).executes(t=>{g.getAllRegions().forEach(e=>e.delete()),t.reply("Removed All regions")});te.literal({name:"list",description:"Lists all regions and positions"}).executes(t=>{let e=g.getAllRegions();for(let n of e)t.reply(`Region from ${n.from.x}, ${n.from.z} to ${n.to.x}, ${n.to.z} in dimension ${n.dimensionId}`);if(e.length==0)return t.reply("No regions have been made yet")});var Oe=te.literal({name:"permission",description:"Handels permissions for regions"});Oe.literal({name:"set",description:"Sets a certin permission on the region the player is currently in to a value"}).array("key",["doorsAndSwitches","openContainers","pvp"]).boolean("value").executes((t,e,n)=>{let r=g.blockLocationInRegion(new ee(t.sender.location.x,t.sender.location.y,t.sender.location.z),t.sender.dimension.id);if(!r)return t.reply("You are not in a region");r.changePermission(e,n),t.reply(`Changed permision ${e} to ${n}`)});Oe.literal({name:"list",description:"Lists the permissions for the current region"}).executes(t=>{let e=g.blockLocationInRegion(new ee(t.sender.location.x,t.sender.location.y,t.sender.location.z),t.sender.dimension.id);if(!e)return t.reply("You are not in a region");t.reply(`Current region permissions ${JSON.stringify(e.permissions)}`)});var Ct=Oe.literal({name:"entities",description:"Holds the subCommands for adding or removing allowedEntitys"});Ct.literal({name:"add",description:"Adds a entity to the allowed entitys list"}).string("entity").executes((t,e)=>{let n=g.blockLocationInRegion(new ee(t.sender.location.x,t.sender.location.y,t.sender.location.z),t.sender.dimension.id);if(!n)return t.reply("You are not in a region");let r=n.permissions.allowedEntitys;r.push(e),n.changePermission("allowedEntitys",r),t.reply(`Added entity ${e} to the allowed entitys of the region your currently standing in`)});Ct.literal({name:"remove",description:"Removes a entity from the allowed entitys in the region"}).string("entity").executes((t,e)=>{let n=g.blockLocationInRegion(new ee(t.sender.location.x,t.sender.location.y,t.sender.location.z),t.sender.dimension.id);if(!n)return t.reply("You are not in a region");let r=n.permissions.allowedEntitys;if(!r.includes(e))return t.reply(`The entity ${e} is not allowed to enter the region`);r=r.filter(o=>o!=e),n.changePermission("allowedEntitys",r),t.reply(`Removed entity ${e} to the allowed entitys of the region your currently standing in`)});import{world as un}from"@minecraft/server";var Fe=(o=>(o[o.member=0]="member",o[o.admin=1]="admin",o[o.moderator=2]="moderator",o[o.builder=3]="builder",o))(Fe||{});var gn=t=>isNaN(Number(t))===!1;function yn(t){return Object.keys(t).filter(gn).map(e=>t[e])}var Tt=new f({name:"role",description:"Changes the role for a player",requires:t=>l(t)=="admin"||un.getDynamicProperty("worldsOwner")==t.id});Tt.literal({name:"set",description:"Sets the role for a player"}).string("playerName").argument(new _.array("role",yn(Fe))).executes((t,e,n)=>{O(e,n),t.reply(`Changed role of ${e} to ${n}`)});Tt.literal({name:"get",description:"Gets the role of a player"}).string("playerName").executes((t,e)=>{t.reply(`${e} has role: ${l(e)}`)});import{ActionFormData as hn}from"@minecraft/server-ui";var U=class{constructor(e,n){this.title=e,this.body=n,this.form=new hn,e&&this.form.title(e),n&&this.form.body(n),this.buttons=[],this.triedToShow=0}addButton(e,n=null,r){return this.buttons.push({text:e,iconPath:n,callback:r}),this.form.button(e,n),this}show(e){this.form.show(e).then(n=>{if(n.canceled){if(n.cancelationReason=="userBusy"){if(this.triedToShow>200)return e.tell("\xA7cForm Timeout: tried to show form, but you were busy (close chat after running command)");this.triedToShow++,this.show(e)}return}this.buttons[n.selection].callback?.()})}};import{ItemTypes as wn,MinecraftBlockTypes as In}from"@minecraft/server";var vt="2.4.4-beta";var ue="https://discord.gg/dMa3A5UYKX";var re={aquaAffinity:1,baneOfArthropods:5,binding:1,blastProtection:4,channeling:1,depthStrider:3,efficiency:5,featherFalling:4,fireAspect:2,fireProtection:4,flame:1,fortune:3,frostWalker:2,impaling:5,infinity:1,knockback:2,looting:3,loyalty:4,luckOfTheSea:3,lure:3,mending:1,multishot:1,piercing:4,power:5,projectileProtection:4,protection:4,punch:2,quickCharge:3,respiration:3,riptide:3,sharpness:5,silkTouch:1,smite:5,soulSpeed:3,swiftSneak:4,thorns:3,unbreaking:3,vanishing:1};var oe=["minecraft:beehive","minecraft:bee_nest","minecraft:acacia_standing_sign","minecraft:acacia_wall_sign","minecraft:agent_spawn_egg","minecraft:allay_spawn_egg","minecraft:allow","minecraft:axolotl_bucket","minecraft:axolotl_spawn_egg","minecraft:balloon","minecraft:bamboo_sapling","minecraft:barrier","minecraft:barrier","minecraft:bat_spawn_egg","minecraft:bedrock","minecraft:bee_nest","minecraft:bee_spawn_egg","minecraft:beehive","minecraft:birch_standing_sign","minecraft:birch_wall_sign","minecraft:blackstone_double_slab","minecraft:blaze_spawn_egg","minecraft:border_block","minecraft:brewingstandblock","minecraft:bubble_column","minecraft:camera","minecraft:carrots","minecraft:cat_spawn_egg","minecraft:cave_spider_spawn_egg","minecraft:cave_vines","minecraft:cave_vines_body_with_berries","minecraft:chain_command_block","minecraft:chemical_heat","minecraft:chemistry_table","minecraft:chicken_spawn_egg","minecraft:client_request_placeholder_block","minecraft:cobbled_deepslate_double_slab","minecraft:cod_bucket","minecraft:cod_spawn_egg","minecraft:colored_torch","minecraft:colored_torch_bp","minecraft:colored_torch_rg","minecraft:command_block","minecraft:command_block_minecart","minecraft:compound","minecraft:compoundcreator","minecraft:cow_spawn_egg","minecraft:creeper_spawn_egg","minecraft:crimson_double_slab","minecraft:crimson_standing_sign","minecraft:crimson_wall_sign","minecraft:darkoak_standing_sign","minecraft:darkoak_wall_sign","minecraft:daylight_detector_inverted","minecraft:debug_stick","minecraft:deepslate_brick_double_slab","minecraft:deepslate_tile_double_slab","minecraft:deny","minecraft:dolphin_spawn_egg","minecraft:donkey_spawn_egg","minecraft:double_cut_copper_slab","minecraft:double_wooden_slab","minecraft:drowned_spawn_egg","minecraft:elder_guardian_spawn_egg","minecraft:end_gateway","minecraft:end_portal","minecraft:end_portal_frame","minecraft:enderman_spawn_egg","minecraft:endermite_spawn_egg","minecraft:evoker_spawn_egg","minecraft:exposed_double_cut_copper_slab","minecraft:fire","minecraft:flowing_lava","minecraft:flowing_water","minecraft:fox_spawn_egg","minecraft:frog_spawn_egg","minecraft:frosted_ice","minecraft:ghast_spawn_egg","minecraft:glow_squid_spawn_egg","minecraft:glow_stick","minecraft:glowingobsidian","minecraft:goat_spawn_egg","minecraft:guardian_spawn_egg","minecraft:hard_glass","minecraft:hard_glass_pane","minecraft:hard_stained_glass","minecraft:hard_stained_glass_pane","minecraft:hoglin_spawn_egg","minecraft:horse_spawn_egg","minecraft:husk_spawn_egg","minecraft:ice_bomb","minecraft:info_update","minecraft:info_update2","minecraft:invisible_bedrock","minecraft:invisiblebedrock","minecraft:item.acacia_door","minecraft:item.bed","minecraft:item.beetroot","minecraft:item.birch_door","minecraft:item.cake","minecraft:item.campfire","minecraft:item.cauldron","minecraft:item.chain","minecraft:item.crimson_door","minecraft:item.dark_oak_door","minecraft:item.flower_pot","minecraft:item.frame","minecraft:item.glow_frame","minecraft:item.hopper","minecraft:item.iron_door","minecraft:item.jungle_door","minecraft:item.kelp","minecraft:item.nether_sprouts","minecraft:item.nether_wart","minecraft:item.reeds","minecraft:item.skull","minecraft:item.soul_campfire","minecraft:item.spruce_door","minecraft:item.warped_door","minecraft:item.wheat","minecraft:item.wooden_door","minecraft:jigsaw","minecraft:jungle_standing_sign","minecraft:jungle_wall_sign","minecraft:lava","minecraft:lava_cauldron","minecraft:light_block","minecraft:lit_blast_furnace","minecraft:lit_deepslate_redstone_ore","minecraft:lit_furnace","minecraft:lit_redstone_lamp","minecraft:lit_redstone_ore","minecraft:lit_smoker","minecraft:llama_spawn_egg","minecraft:magma_cube_spawn_egg","minecraft:medicine","minecraft:melon_stem","minecraft:mob_spawner","minecraft:mooshroom_spawn_egg","minecraft:movingBlock","minecraft:moving_block","minecraft:movingblock","minecraft:mule_spawn_egg","minecraft:netherreactor","minecraft:npc_spawn","minecraft:npc_spawn_egg","minecraft:ocelot_spawn_egg","minecraft:oxidized_double_cut_copper_slab","minecraft:panda_spawn_egg","minecraft:parrot_spawn_egg","minecraft:phantom_spawn_egg","minecraft:pig_spawn_egg","minecraft:piglin_brute_spawn_egg","minecraft:piglin_spawn_egg","minecraft:pillager_spawn_egg","minecraft:piston_arm_collision","minecraft:piston_arm_collision","minecraft:pistonarmcollision","minecraft:polar_bear_spawn_egg","minecraft:polished_blackstone_brick_double_slab","minecraft:polished_blackstone_double_slab","minecraft:polished_deepslate_double_slab","minecraft:portal","minecraft:potatoes","minecraft:powder_snow","minecraft:powder_snow_bucket","minecraft:powered_comparator","minecraft:powered_repeater","minecraft:pufferfish_bucket","minecraft:pufferfish_spawn_egg","minecraft:pumpkin_stem","minecraft:rabbit_spawn_egg","minecraft:rapid_fertilizer","minecraft:ravager_spawn_egg","minecraft:real_double_stone_slab","minecraft:real_double_stone_slab2","minecraft:real_double_stone_slab3","minecraft:real_double_stone_slab4","minecraft:redstone_wire","minecraft:repeating_command_block","minecraft:reserved3","minecraft:reserved4","minecraft:reserved6","minecraft:salmon_bucket","minecraft:salmon_spawn_egg","minecraft:sea_turtle_spawn_egg","minecraft:sheep_spawn_egg","minecraft:shulker_spawn_egg","minecraft:silverfish_spawn_egg","minecraft:skeleton_horse_spawn_egg","minecraft:skeleton_spawn_egg","minecraft:slime_spawn_egg","minecraft:soul_fire","minecraft:soul_fire","minecraft:sparkler","minecraft:spawn_egg","minecraft:spawn_egg","minecraft:spawner","minecraft:spider_spawn_egg","minecraft:spruce_standing_sign","minecraft:spruce_wall_sign","minecraft:squid_spawn_egg","minecraft:standing_banner","minecraft:standing_sign","minecraft:stickyPistonArmCollision","minecraft:sticky_piston_arm_collision","minecraft:stonecutter","minecraft:stray_spawn_egg","minecraft:strider_spawn_egg","minecraft:structure_block","minecraft:structure_void","minecraft:tadpole_bucket","minecraft:tadpole_spawn_egg","minecraft:tripwire","minecraft:tropical_fish_bucket","minecraft:tropical_fish_spawn_egg","minecraft:underwater_torch","minecraft:unknown","minecraft:unlit_redstone_ore","minecraft:unpowered_comparator","minecraft:unpowered_repeater","minecraft:vex_spawn_egg","minecraft:villager_spawn_egg","minecraft:vindicator_spawn_egg","minecraft:wall_banner","minecraft:wall_sign","minecraft:wandering_trader_spawn_egg","minecraft:warden_spawn_egg","minecraft:warped_double_slab","minecraft:warped_standing_sign","minecraft:warped_wall_sign","minecraft:water","minecraft:waxed_double_cut_copper_slab","minecraft:waxed_exposed_double_cut_copper_slab","minecraft:waxed_oxidized_double_cut_copper_slab","minecraft:waxed_weathered_double_cut_copper_slab","minecraft:weathered_double_cut_copper_slab","minecraft:witch_spawn_egg","minecraft:wither_spawn_egg","minecraft:wolf_spawn_egg","minecraft:zoglin_spawn_egg","minecraft:zombie_horse_spawn_egg","minecraft:zombie_spawn_egg","minecraft:zombie_villager_spawn_egg","minecraft:zombified_piglin_spawn_egg"],ie=["minecraft:moving_block","minecraft:beehive","minecraft:beenest"],ge=["minecraft:chest","minecraft:trapped_chest"],D={x:7,y:7,z:7};import{ModalFormData as _n}from"@minecraft/server-ui";import{MessageFormData as bn}from"@minecraft/server-ui";var ye=class{constructor(e,n){this.title=e,this.body=n,this.form=new bn,e&&this.form.title(e),n&&this.form.body(n),this.triedToShow=0}setButton1(e,n){return this.button1={text:e,callback:n},this.form.button1(e),this}setButton2(e,n){return this.button2={text:e,callback:n},this.form.button2(e),this}show(e){this.form.show(e).then(n=>{if(n.canceled){if(n.cancelationReason=="userBusy"){if(this.triedToShow>200)return e.tell("\xA7cForm Timeout: tried to show form, but you were busy (close chat after running command)");this.triedToShow++,this.show(e)}return}n.selection==1&&this.button1?.callback?.(),n.selection==0&&this.button2?.callback?.()})}};var he=class{constructor(e,n,r){this.form=e,this.player=n,this.callback=r}error(e){new ye("Error",e).setButton1("Return to form",()=>{this.form.show(this.player,this.callback)}).setButton2("Cancel",null).show(this.player)}};var C=class{constructor(e){this.title=e,this.form=new _n,e&&this.form.title(e),this.args=[],this.triedToShow=0}addDropdown(e,n,r){return this.args.push({type:"dropdown",options:n}),this.form.dropdown(e,n,r),this}addSlider(e,n,r,o,i){return this.args.push({type:"slider"}),this.form.slider(e,n,r,o,i),this}addToggle(e,n){return this.args.push({type:"toggle"}),this.form.toggle(e,n),this}addTextField(e,n,r){return this.args.push({type:"textField"}),this.form.textField(e,n,r),this}show(e,n){this.form.show(e).then(r=>{if(r.canceled){if(r.cancelationReason=="userBusy"){if(this.triedToShow>200)return e.tell("\xA7cForm Timeout: tried to show form, but you were busy (close chat after running command)");this.triedToShow++,this.show(e,n)}return}n(new he(this,e,n),...r.formValues.map((o,i)=>this.args[i].type=="dropdown"?this.args[i].options[o]:o))})}};function St(t){new C("Manage Banned Items").addDropdown("Add/Remove Item",["add","remove"],0).addTextField("Item Id","minecraft:string").show(t,(e,n,r)=>{if(!wn.get(r)?.id)return e.error(`\xA7c"${r}" is not a vaild item id, note: this item must be either a item in a behavior pack or a default minecraft item`);if(n=="add"){let o=a.config.get("banned_items")??oe;if(o.includes(r))return e.error(`\xA7cItem "${r}" is already banned`);o.push(r),a.config.set("banned_items",o),t.tell(`Banned the item "${r}"`)}else{let o=a.config.get("banned_items")??oe;if(!o.includes(r))return e.error(`\xA7cItem: "${r}" is not banned`);o=o.filter(i=>i!=r),a.config.set("banned_items",o),t.tell(`Removed Banned item "${r}"`)}})}function Et(t){new C("Manage Banned Blocks").addDropdown("Add/Remove Block",["add","remove"],0).addTextField("Block Id","minecraft:barrier").show(t,(e,n,r)=>{if(!In.get(r)?.id)return e.error(`\xA7c"${r}" is not a vaild block id, note: this item must be either a block in a behavior pack or a default minecraft block`);if(n=="add"){let o=a.config.get("banned_blocks")??ie;if(o.includes(r))return e.error(`\xA7cBlock "${r}" is already banned`);o.push(r),a.config.set("banned_blocks",r),t.tell(`Banned the block "${r}"`)}else{let o=a.config.get("banned_blocks")??ie;if(!o.includes(r))return e.error(`block: "${r}" is not banned`);o=o.filter(i=>i!=r),a.config.set("banned_blocks",r),t.tell(`Removed Banned block "${r}"`)}})}function Pt(t){new C("Manage Enchantment Levels").addDropdown("Enchantment to change",Object.keys(re),0).addTextField("Level (number)","5").show(t,(e,n,r)=>{if(isNaN(r))return e.error(`\xA7c"${r}" is not a number, please enter a value like, "3", "9", etc.`);let o=parseInt(r),i=a.config.get("enchantments")??re;i[n]=o,a.config.set("enchantments",i),t.tell(`Set max level for ${n} to ${o}`)})}function At(t){new C("Manage Appeal Link").addTextField("Appeal Link",ue).show(t,(e,n)=>{a.config.set("appealLink",n),t.tell(`Changed the servers appeal link to ${n}`)})}function xt(t){new U("Rubedo Settings").addButton("Anti Spam","textures/ui/permissions_op_crown.png",()=>{Cn(t)}).addButton("Cbe","textures/blocks/sculk_shrieker_top.png",()=>{Tn(t)}).addButton("Gamemode","textures/blocks/barrier.png",()=>{vn(t)}).addButton("Nuker","textures/ui/Feedback.png",()=>{Sn(t)}).show(t)}function Cn(t){let e=a.config.get("spam_config")??{repeatedMessages:!0,zalgo:!0,violationCount:0,permMutePlayer:!1};new C("Manage Spam Protection").addToggle("Ban Repeated Messages",e.repeatedMessages).addToggle("Ban Zalgo",e.zalgo).addSlider("Violation Count before ban (if ban is false this does nothing)",0,20,1,e.violationCount).addToggle("Perm Mute Player",e.permMutePlayer).show(t,(n,r,o,i,s)=>{a.config.set("spam_config",{repeatedMessages:r,zalgo:o,violationCount:i,permMutePlayer:s}),t.tell("Updated Spam Protection settings!")})}function Tn(t){let e=a.config.get("cbe_config")??{clearItem:!0,violationCount:0,banPlayer:!1};new C("Manage CBE Protection").addToggle("Clear Item",e.clearItem).addSlider("Violation Count before ban (if ban is false this does nothing)",0,20,1,e.violationCount).addToggle("Ban Player",e.banPlayer).show(t,(n,r,o,i)=>{a.config.set("cbe_config",{clearItem:r,violationCount:o,banPlayer:i}),t.tell("Updated CBE Protection settings!")})}function vn(t){let e=a.config.get("gamemode_config")??{setToSurvival:!0,clearPlayer:!0,violationCount:0,banPlayer:!1};new C("Manage Gamemode Protection").addToggle("Set to survival",e.setToSurvival).addToggle("Clear Player (Once this players gamemode has been switched back to survival should it clear the inventory?)",e.clearPlayer).addSlider("Violation Count before ban (if ban is false this does nothing)",0,20,1,e.violationCount).addToggle("Ban Player",e.banPlayer).show(t,(n,r,o,i,s)=>{a.config.set("gamemode_config",{setToSurvival:r,clearPlayer:o,violationCount:i,banPlayer:s}),t.tell("Updated Gamemode Protection settings!")})}function Sn(t){let e=a.config.get("nuker_data")??{violationCount:0,banPlayer:!1};new C("Manage Gamemode Protection").addSlider("Violation Count before ban (if ban is false this does nothing)",0,20,1,e.violationCount).addToggle("Ban Player",e.banPlayer).show(t,(n,r,o)=>{a.config.set("nuker_data",{violationCount:r,banPlayer:o}),t.tell("Updated Nuker Protection settings!")})}function Rt(t){new U("Rubedo Settings").addButton("Auto Mod","textures/ui/permissions_op_crown.png",()=>{xt(t)}).addButton("Banned items","textures/blocks/sculk_shrieker_top.png",()=>{St(t)}).addButton("Banned blocks","textures/blocks/barrier.png",()=>{Et(t)}).addButton("Enchantments","textures/items/book_enchanted.png",()=>{Pt(t)}).addButton("Appeal Link","textures/ui/Feedback.png",()=>{At(t)}).show(t)}new f({name:"settings",description:"Opens up the settings menu for the player",requires:t=>["admin","moderator"].includes(l(t))}).executes(t=>{Rt(t.sender)});import{world as Mt}from"@minecraft/server";new f({name:"vanish",description:"Toggles Vanish Mode on the sender",requires:t=>l(t)=="admin"}).boolean("say").executes((t,e)=>{if(t.sender.hasTag("spectator")){if(t.sender.runCommand("gamemode c"),t.sender.runCommand("event entity @s removeSpectator"),t.sender.removeTag("spectator"),!e)return;Mt.say({rawtext:[{translate:"multiplayer.player.joined",with:[`\xA7e${t.sender.name}`]}]})}else{if(t.sender.runCommand("gamemode spectator"),t.sender.runCommand("event entity @s addSpectator"),t.sender.addTag("spectator"),!e)return;Mt.say({rawtext:[{translate:"multiplayer.player.left",with:[`\xA7e${t.sender.name}`]}]})}});new f({name:"unban",description:"Unban a banned player",requires:t=>l(t)=="admin"}).string("playerName").executes((t,e)=>{let n=a.bans.values().find(r=>r.playerName==e);if(!n)return t.reply(`${e} is not banned`);a.bans.delete(n.key)?t.reply(`\xA7a${e}\xA7r has been Unbanned!`):t.reply(`\xA7cFailed to unban ${e}`)});new f({name:"unfreeze",description:"Unfreeze a frozen player",requires:t=>l(t)=="admin"}).string("playerName").executes((t,e)=>{let n=a.freezes.values().find(r=>r.player==e);if(!n)return t.reply(`${e} is not frozen`);a.freezes.delete(n.key),t.reply(`\xA7a${e}\xA7r has been UnFrozen!`)});new f({name:"unmute",description:"Unmutes a muted player",requires:t=>["admin","moderator"].includes(l(t))}).string("playerName").executes((t,e)=>{let n=a.mutes.values().find(r=>r.player==e);if(!n)return t.reply(`${e} is not muted!`);a.mutes.delete(n.player);try{t.sender.runCommand(`ability "${e}" mute false`)}catch{}t.reply(`\xA7a${e}\xA7r has been UnMuted!`)});new f({name:"version",description:"Get Current Version",aliases:["v"]}).executes(t=>{t.reply(`Current Rubedo Version: ${vt}`)});I(t=>{try{let e=a.bans.get(t.id);if(!e)return;if(console.warn(t.name),e.expire&&e.expire<Date.now())return a.bans.delete(t.id);ce(t,["\xA7cYou have been banned!",`\xA7aReason: \xA7f${e.reason}`,`\xA7fExpiry: \xA7b${e.expire?F(e.length):"Forever"}`,`\xA7fAppeal at: \xA7b${a.config.get("appealLink")??ue}`],()=>{console.warn(new Error("Failed to kick player")),a.bans.delete(t.id)})}catch(e){console.warn(e+e.stack)}},20);import{Location as Pn}from"@minecraft/server";I(t=>{let e=a.freezes.get(t.id);!e||t.teleport(new Pn(e.location.x,e.location.y,e.location.z),b[e.location.dimension],0,0)},20);import{world as An}from"@minecraft/server";An.events.beforeChat.subscribe(t=>{if(t.message.startsWith(w))return;let e=S.getMuteData(t.sender);if(!!e){if(e.expire&&e.expire<Date.now())return a.mutes.delete(t.sender.name);t.cancel=!0,t.sender.tell(L["modules.managers.mute.isMuted"]())}});import{BlockLocation as xn,world as ze}from"@minecraft/server";v(()=>{me()},6e3);ze.events.beforeItemUseOn.subscribe(t=>{if(["moderator","admin"].includes(l(t.source)))return;let e=g.blockLocationInRegion(t.blockLocation,t.source.dimension.id);if(!e)return;let n=t.source.dimension.getBlock(t.blockLocation);et.includes(n.typeId)&&e.permissions.doorsAndSwitches||tt.includes(n.typeId)&&e.permissions.openContainers||(t.cancel=!0)});ze.events.beforeExplosion.subscribe(t=>{for(let e=0;e<t.impactedBlocks.length;e++){let n=t.impactedBlocks[e];if(g.blockLocationInRegion(n,t.dimension.id))return t.cancel=!0}});ze.events.entityCreate.subscribe(t=>{let e=g.blockLocationInRegion(new xn(t.entity.location.x,t.entity.location.y,t.entity.location.z),t.entity.dimension.id);!e||e.permissions.allowedEntitys.includes(t.entity.typeId)||(t.entity.teleport({x:0,y:-64,z:0},t.entity.dimension,0,0),t.entity.kill())});v(()=>{for(let t of g.getAllRegions())for(let e of b[t.dimensionId].getEntities({excludeTypes:t.permissions.allowedEntitys}))!t.entityInRegion(e)||(e.teleport({x:0,y:-64,z:0},e.dimension,0,0),e.kill())},100);I(t=>{for(let e of g.getAllRegions())e.entityInRegion(t)?(t.addTag("inRegion"),e.permissions.pvp||t.addTag("region-protected")):(t.removeTag("inRegion"),t.removeTag("region-protected"))},5);import{world as Ge}from"@minecraft/server";Ge.events.playerJoin.subscribe(({player:t})=>{let e=Ge.events.tick.subscribe(n=>{try{b.overworld.runCommand(`testfor @a[name="${t.name}"]`),Ge.events.tick.unsubscribe(e),S.getMuteData(t)&&t.runCommand("ability @s mute true"),t.hasTag("old")?t.addTag("old"):a.ids.set(t.name,t.id);let r=P.getPlayersRoleToSet(t.name);r&&O(t,r)}catch{}})});import{Items as Rn,MinecraftItemTypes as T,world as Ve}from"@minecraft/server";var Nt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],Mn=[10,11,12,13,14,15,16,19,20,21,22,23,24,25,28,29,30,31,32,33,34,37,38,39,40,41,42,43];function Nn(t,e,n){let r=t.getComponent("minecraft:inventory").container;for(let o=0;o<r.size;o++){let i=e.slots[o];if(!i||!i.item){r.setItem(o,M);continue}r.setItem(o,i.item.itemStack)}for(let[o,i]of[...Ve.getPlayers()].entries()){let s=Nt[o],m=new y(T.skull,{nameTag:i.name,data:3});r.setItem(s,m.itemStack),e.slots[s]={item:m,action:c=>{c.PageAction("moderation:see_inventory",{name:i.name})}}}}function Bn(t,e,n){let r=t.getComponent("minecraft:inventory").container;for(let c=0;c<r.size;c++){let d=e.slots[c];if(!d||!d.item){r.setItem(c,M);continue}r.setItem(c,d.item.itemStack)}let o=new y(T.enderChest,{nameTag:`\xA7eView \xA7f${n?.name}\xA7e Ender Chest
\xA7fNote: \xA7cThis will not grab \xA7lANY NBT!\xA7r`});r.setItem(49,o.itemStack),e.slots[49]={item:o,action:c=>{c.PageAction("moderation:see_ender_chest",{name:n.name})}};let i=[...Ve.getPlayers()].find(c=>c.name==n.name);if(!i)return;let s=i.getComponent("inventory").container,m=0;for(let c=0;c<s.size;c++){let d=s.getItem(c);if(!d)continue;let p=Nt[m];m++,r.setItem(p,d),e.slots[p]={item:new y(Rn.get(d.typeId),{amount:d.amount,data:d.data},d),action:Ie=>{c<9?i.runCommand(`replaceitem entity @s slot.hotbar ${c} air`):i.runCommand(`replaceitem entity @s slot.inventory ${c-9} air`),Ie.GiveAction(),e.slots[p]={item:null,action:Yt=>{s.addItem(Yt.getItemAdded())}}}}}}function Ln(t,e,n){let r=t.getComponent("minecraft:inventory").container;for(let s=0;s<r.size;s++){let m=e.slots[s];if(!m||!m.item){r.setItem(s,M);continue}r.setItem(s,m.item.itemStack)}let o=[...Ve.getPlayers()].find(s=>s.name==n?.name);if(!o)return;let i=0;for(let s of Object.values(T))try{o.runCommand(`testfor @s[hasitem={item=${s.id},location=slot.enderchest}]`);let m=new y(s.id,{nameTag:"Note: \xA7l\xA7cThis is not the exzact item"}),c=Mn[i];r.setItem(c,m.itemStack),e.slots[c]={item:m,action:d=>{d.GiveAction(),e.slots[c]=null}},i++}catch{}}new N("moderation:see",Nn).setSlots([45,46,47,49,51,52,53],new y(T.stainedGlassPane,{nameTag:"\xA7r",data:15}),t=>{t.SetAction()}).setSlots([50],new y(T.arrow,{nameTag:"\xA7fBack"}),t=>{t.PageAction("home")}).setSlots([48],new y(T.barrier,{nameTag:"\xA7cClose GUI"}),t=>{t.CloseAction()});new N("moderation:see_inventory",Bn).setSlots([45,46,47,49,51,52,53],new y(T.stainedGlassPane,{nameTag:"\xA7r",data:15}),t=>{t.SetAction()}).setSlots([50],new y(T.arrow,{nameTag:"\xA7fBack"}),t=>{t.PageAction("moderation:see")}).setSlots([48],new y(T.barrier,{nameTag:"\xA7cClose GUI"}),t=>{t.CloseAction()});new N("moderation:see_ender_chest",Ln).setSlots([0,1,2,3,4,5,6,7,8,9,17,18,26,27,35,36,44,45,46,47,49,51,52,53],new y(T.stainedGlassPane,{nameTag:"\xA7r",data:15}),t=>{t.SetAction()}).setSlots([50],new y(T.arrow,{nameTag:"\xA7fBack"}),t=>{t.PageAction("moderation:see")}).setSlots([48],new y(T.barrier,{nameTag:"\xA7cClose GUI"}),t=>{t.CloseAction()});import{ItemStack as Dn,MinecraftBlockTypes as $n,MinecraftItemTypes as On,world as Lt}from"@minecraft/server";var Fn=new Dn(On.stick,0),zn=["minecraft:command_block_minecart"],Bt=new h;I(t=>{let e=a.config.get("cbe_config")??{clearItem:!0,violationCount:0,banPlayer:!1},n=t.getComponent("inventory").container;for(let r=0;r<n.size;r++){let o=n.getItem(r);if(!o)continue;let i=()=>{console.warn(`[Protection: CBE]: ${t.name} Has a CBE item!`),e.clearItem&&t.getComponent("inventory").container.setItem(r,Fn);let p=(Bt.get(t)??0)+1;Bt.set(t,p),e.banPlayer&&p>=e.violationCount&&new k(t,null,null,"Cbe Detection")};if((a.config.get("banned_items")??oe).includes(o.typeId))return i();let m=o.getComponent("enchantments").enchantments,c=a.config.get("enchantments")??re,d=[];for(let p of m){let Ie=c[p.type.id]??p.type.maxLevel;if(m.slot==0&&!m.canAddEnchantment(p)||p.level>Ie||d.includes(p.type.id))return i();d.push(p.type.id)}}});Lt.events.entityCreate.subscribe(t=>{let e=()=>{try{t.entity.triggerEvent("despawn"),t.entity.kill()}catch{t.entity.kill()}};if(zn.includes(t.entity.typeId)||t.entity.typeId=="minecraft:npc"&&!V.isVaild(t.entity))return e()});Lt.events.blockPlace.subscribe(({block:t,player:e})=>{if(["moderator","admin"].includes(l(e)))return;(a.config.get("banned_blocks")??ie).includes(t.typeId)&&t.setType($n.air)});var Ue=32e4;I(t=>{(Math.abs(t.location.x)>Ue||Math.abs(t.location.y)>Ue||Math.abs(t.location.z)>Ue)&&new k(t,null,null,"Hacking: Crasher")});import{world as Dt}from"@minecraft/server";var be=class{constructor(e,n,r){this.player=e,this.location=e.location,this.dimension=e.dimension,this.rotation=e.rotation,this.tick=n,this.storage=r,this.events={playerLeave:Dt.events.playerLeave.subscribe(({playerName:o})=>{o==this.player.name&&this.expire()})},this.storage.set(e,this)}back(){this.player.teleport(this.location,this.dimension,this.rotation.x,this.rotation.y)}update(){this.tick=j,this.location=this.player.location,this.dimension=this.player.dimension,this.rotation=this.player.rotation}expire(){this.storage.delete(this.player);for(let e in this.events)Dt.events[e].unsubscribe(this.events[e])}};var $t=new h,Gn=.9,Vn=20,Un=!0,jn=["gliding","riding","levitating","swimming"];function Hn(t){return t.getComponent("minecraft:inventory").container.getItem(t.selectedSlot)}I((t,{currentTick:e})=>{if(t.getTags().some(o=>jn.includes(o)))return;let n=()=>$t.get(t)??new be(t,e,$t),r=Math.sqrt(t.velocity.x**2+t.velocity.z**2);if(t.hasTag("on_ground"))return n().update();if(!(r<Gn)&&Hn(t)?.typeId!="minecraft:trident"&&!(e-n().tick<Vn)&&(n().back(),Un))try{t.runCommand("damage @s 4 fly_into_wall")}catch{}},20);import{GameMode as Yn,world as qn}from"@minecraft/server";var Kn=Yn.creative,Ot=new h;v(()=>{let t=a.config.get("gamemode_config")??{setToSurvival:!0,clearPlayer:!0,violationCount:0,banPlayer:!1};for(let e of qn.getPlayers({gameMode:Kn})){if(["moderator","admin","builder"].includes(l(e)))continue;try{t.setToSurvival&&e.runCommand("gamemode s"),t.clearPlayer&&e.runCommand("clear @s")}catch{}let n=(Ot.get(e)??0)+1;Ot.set(e,n),t.banPlayer&&n>=t.violationCount&&new k(e,null,null,"Invaild Gamemode")}},20);import{world as Ft}from"@minecraft/server";var Jn=/^([\p{L}])([\p{L}\d\s#'()-_]{1,20})([\p{L}\d\)])$/isu,Wn="\xA7c\xA7k\xA7m\xA7A\xA7r\xA7cToolbox Gamer\xA7k\xA7mA\xA7r";Ft.events.playerJoin.subscribe(({player:t})=>{let e=t.name,n=()=>ce(t,["\xA7cYou have been kicked!",`\xA7aReason: \xA7f'${e}' is Invalid`,"\xA7fThis Server requires you to have a valid gamertag!"]);if(e==Wn||!Jn.test(e)||[...Ft.getPlayers()].filter(r=>r.name==t.name).length>1)return n()});import{world as Zn,Location as Qn}from"@minecraft/server";import{world as Xn}from"@minecraft/server";var _e=class{constructor(e){this.emptySlotsCount=e.emptySlotsCount,this.size=e.size,this.items=[];for(let n=0;n<this.size;n++)this.items[n]=e.getItem(n)}load(e){for(let n=0;n<e.size;n++)!this.items[n]||e.setItem(n,this.items[n])}};var we={};v(()=>{we={};for(let t of Xn.getPlayers()){let e=st(t.location),n=e.offset(D.x,D.y,D.z),r=e.offset(-D.x,-D.y,-D.z);for(let o of n.blocksBetween(r)){if(o.y<-64)continue;let i=t.dimension.getBlock(o);!ge.includes(i.typeId)||(we[JSON.stringify(o)]=new _e(i.getComponent("inventory").container))}}},100);var zt=new h,er=70,tr=["snow","lush_plants_replaceable","azalea_log_replaceable","minecraft:crop","fertilize_area"],nr=["minecraft:water","minecraft:flowing_water","minecraft:lava","minecraft:flowing_lava","minecraft:bedrock"],Gt=new h;Zn.events.blockBreak.subscribe(({block:t,brokenBlockPermutation:e,dimension:n,player:r})=>{if(["moderator","admin"].includes(l(r))||t.getTags().some(m=>tr.includes(m)))return;let o=zt.get(r);if(zt.set(r,Date.now()),!o||nr.includes(t.typeId)||o<Date.now()-er)return;let i=a.config.get("nuker_data")??{violationCount:0,banPlayer:!1},s=(Gt.get(r)??0)+1;if(Gt.set(r,s),i.banPlayer&&s>=i.violationCount&&new k(r,null,null,"Using Nuker"),n.getBlock(t.location).setPermutation(e.clone()),ge.includes(e.type.id)){let m=we[JSON.stringify(t.location)];m&&m.load(t.getComponent("inventory").container)}xe(()=>{[...n.getEntities({maxDistance:2,type:"minecraft:item",location:new Qn(t.location.x,t.location.y,t.location.z)})].forEach(m=>m.kill())},0)});import{world as rr}from"@minecraft/server";var Vt=new h,Ut=new h;rr.events.beforeChat.subscribe(t=>{if(t.message.startsWith(w)||["admin","moderator"].includes(l(t.sender)))return;let e=a.config.get("spam_config")??{repeatedMessages:!0,zalgo:!0,violationCount:0,permMutePlayer:!1},n=()=>{let r=(Ut.get(t.sender)??0)+1;Ut.set(t.sender,r),e.permMutePlayer&&r>=e.violationCount&&new S(t.sender,null,null,"Reached Violation count")};if(e.repeatedMessages&&Vt.get(t.sender)==t.message)return t.cancel=!0,n(),t.sender.tell("\xA7cRepeated message detected!");if(e.zalgo&&/%CC%/g.test(encodeURIComponent(t.message)))return t.cancel=!0,n(),t.sender.tell("\xA7cYou message contains some type of zalgo and cannot be sent!");Vt.set(t.sender,t.message)});import{Player as or,world as ae}from"@minecraft/server";var ir=ae.events.beforeDataDrivenEntityTriggerEvent.subscribe(t=>{if(ae.getDynamicProperty("roleHasBeenSet"))return ae.events.beforeDataDrivenEntityTriggerEvent.unsubscribe(ir);t.entity instanceof or&&t.id=="rubedo:becomeAdmin"&&(O(t.entity,"admin"),ae.setDynamicProperty("roleHasBeenSet",!0),ae.setDynamicProperty("worldsOwner",t.entity.id),t.entity.tell("\xA7l\xA7cYou have been given admin, the function start will not work anymore!!!!"))});import{system as ar}from"@minecraft/server";ar.events.beforeWatchdogTerminate.subscribe(t=>{t.cancel=!0,console.warn(`WATCHDOG TRIED TO CRASH = ${t.terminateReason}`)});import{DynamicPropertiesDefinition as je,EntityTypes as sr,MinecraftEntityTypes as mr,world as Ht}from"@minecraft/server";var jt=[];Ht.events.worldInitialize.subscribe(({propertyRegistry:t})=>{at("tickingarea add 0 0 0 0 0 0 db true");let e=new je;e.defineString("name",30),e.defineNumber("index"),t.registerEntityTypeDynamicProperties(e,sr.get(W));let n=new je;n.defineString("role",30),t.registerEntityTypeDynamicProperties(n,mr.player);let r=new je;r.defineBoolean("roleHasBeenSet"),r.defineString("worldsOwner",100),t.registerWorldDynamicProperties(r);for(let o of jt)Ht.scoreboard.addObjective(o.objective,o.displayName??"")});console.warn("---- STARTING RUBEDO ----");var pe=[];function It(){pe=[]}var j=null,M=new cr(lr.stick,0);fr.events.tick.subscribe(t=>{j?j=j+1:j=t.currentTick});export{M as AIR,j as CURRENT_TICK,pe as NPC_LOCATIONS,It as clearNpcLocations};
